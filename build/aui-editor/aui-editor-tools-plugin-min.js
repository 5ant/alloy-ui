AUI.add("aui-editor-tools-plugin",function(C){var H=C.Lang,I="justify",G={div:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,p:true},E={br:true},B={li:true},D='<div style="text-align: {0};">{1}</div>';var F={};C.namespace("Plugin");C.mix(C.Plugin.ExecCommand.COMMANDS,{justify:function(L,K){var P=this;var Q=P.get("host");var J=Q.getInstance();var O=new J.Selection();var N=O.getSelected();var M=false;if(O.isCollapsed||!N.size()){var A=O.anchorTextNode;N=[A];M=true;}C.each(N,function(T){var R=T.get("tagName");if(R){R=R.toLowerCase();}if(E[R]){return;}if(R=="font"){var U=T.get("parentNode");if(!U.test("body")){T=U;R=T.get("tagName").toLowerCase();}}var S=T.get("parentNode");var V=null;if(!T.test("body")&&T.getComputedStyle("textAlign")==K){return;}if(G[R]||T.getComputedStyle("display")=="block"){V=T;}else{if(!S.get("childNodes").item(1)||B[R]){R=S.get("tagName").toLowerCase();if(G[R]||S.getComputedStyle("display")=="block"){V=S;}}else{if(M){Q.execCommand("inserthtml",H.sub(D,[K,J.Selection.CURSOR]));O.focusCursor(true,true);return;}else{V=C.Node.create(H.sub(D,[K,""]));S.insert(V,T);V.append(T);}}}if(V){V.setStyle("textAlign",K);}});},justifycenter:function(){var A=this;var J=A.get("host");return J.execCommand(I,"center");},justifyleft:function(){var A=this;var J=A.get("host");return J.execCommand(I,"left");},justifyright:function(){var A=this;var J=A.get("host");return J.execCommand(I,"right");},subscript:function(){var A=this;var J=A.get("host");return J.execCommand("wrap","sub");},superscript:function(){var A=this;var J=A.get("host");return J.execCommand("wrap","sup");},wraphtml:function(M,O){var A=this;var L=A.get("host");var N=L.getInstance();var K=new N.Selection();var J=K.getSelected();if(!K.isCollapsed&&J.size()){J.each(function(R){var Q=R.ancestor();var S=C.Node.create(O);if(S.html()!=""){if(S.html()=="{0}"){S.html("");}else{function P(T){var U=null;var V=T.get("childNodes");V.some(function(W){if(W.get("innerHTML")=="{0}"){U.html("");U=W;return true;}return P(W);});if(U){S=U;return true;}return false;}P(S);}}Q.insert(S,R);S.append(R);});}else{L.execCommand("inserthtml",H.sub(O,[N.Selection.CURSOR]));if(O.indexOf("{0}")!=-1){K.focusCursor(true,true);}}}});C.Plugin.EditorTools=F;},"@VERSION@",{requires:["aui-base","editor-base"]});