AUI.add("aui-editor-tools-plugin",function(C){var H=C.Lang,I="justify",G={div:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,p:true},E={br:true},B={li:true},D='<div style="text-align: {0};">{1}</div>';var F={};C.mix(C.Plugin.ExecCommand.COMMANDS,{justify:function(L,K){var P=this;var Q=P.get("host");var J=Q.getInstance();var O=new J.Selection();var N=O.getSelected();var M=false;if(O.isCollapsed||!N.size()){var A=O.anchorTextNode;N=[A];M=true;}N.each(function(U,R,W){var S=U.get("tagName");var T=U.ancestor();var X=null;if(S){S=S.toLowerCase();}if(E[S]){return;}if(S=="font"){var V=U.get("parentNode");if(!V.test("body")){U=V;S=U.get("tagName").toLowerCase();}}var T=U.get("parentNode");var X=null;if(!U.test("body")&&U.getComputedStyle("textAlign")==K){return;}if(G[S]||U.getComputedStyle("display")=="block"){X=U;}else{if(!T.get("childNodes").item(1)||B[S]){S=T.get("tagName").toLowerCase();if(G[S]||T.getComputedStyle("display")=="block"){X=T;}}else{if(M){Q.execCommand("inserthtml",H.sub(D,[K,J.Selection.CURSOR]));O.focusCursor(true,true);return;}else{X=C.Node.create(H.sub(D,[K,""]));T.insert(X,U);X.append(U);}}}if(X){X.setStyle("textAlign",K);}});},justifycenter:function(){var A=this;return A.get("host").execCommand(I,"center");},justifyleft:function(){var A=this;return A.get("host").execCommand(I,"left");},justifyright:function(){var A=this;return A.get("host").execCommand(I,"right");},subscript:function(){var A=this;return A.get("host").execCommand("wrap","sub");},superscript:function(){var A=this;return A.get("host").execCommand("wrap","sup");},wraphtml:function(M,O){var A=this;var L=A.get("host");var N=L.getInstance();var K=new N.Selection();var J=K.getSelected();if(!K.isCollapsed&&J.size()){J.each(function(R,P,S){var Q=R.ancestor();var T=C.Node.create(O);if(T.html()!=""){if(T.html()=="{0}"){T.html("");}else{A._findInsert(T);}}Q.insert(T,R);T.append(R);});}else{L.execCommand("inserthtml",H.sub(O,[N.Selection.CURSOR]));if(O.indexOf("{0}")!=-1){K.focusCursor(true,true);}}},_findInsert:function(J){var A=this;var K=null;var L=J.get("childNodes");L.some(function(N,M,O){if(N.get("innerHTML")=="{0}"){K.html("");K=N;return true;}return A._findInsert(N);});if(K){wrapper=K;return true;}return false;}});C.Plugin.EditorTools=F;},"@VERSION@",{requires:["aui-base","editor-base"]});