AUI.add("aui-editor-tools-plugin",function(C){var F=C.Lang,G="justify",H={div:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,p:true},J={br:true},D={li:true},E='<div style="text-align: {0};">{1}</div>';function I(A){var K=null;var L=A.get("childNodes");L.some(function(N,M,O){if(N.get("innerHTML")=="{0}"){N.html("");K=N;return true;}return I(N);});return K;}var B={};C.mix(C.Plugin.ExecCommand.COMMANDS,{justify:function(M,L){var Q=this;var R=Q.get("host");var K=R.getInstance();var P=new K.Selection();var O=P.getSelected();var N=false;if(P.isCollapsed||!O.size()){var A=P.anchorTextNode;O=[A];N=true;}O.each(function(V,S,X){var T=V.get("tagName");if(T){T=T.toLowerCase();}if(J[T]){return;}if(T=="font"){var W=V.get("parentNode");if(!W.test("body")){V=W;T=V.get("tagName").toLowerCase();}}if(!V.test("body")&&V.getComputedStyle("textAlign")==L){return;}var U=V.get("parentNode");var Y;if(H[T]||V.getComputedStyle("display")=="block"){Y=V;}else{if(!U.get("childNodes").item(1)||D[T]){T=U.get("tagName").toLowerCase();if(H[T]||U.getComputedStyle("display")=="block"){Y=U;}}else{if(N){R.execCommand("inserthtml",F.sub(E,[L,K.Selection.CURSOR]));P.focusCursor(true,true);return;}else{Y=C.Node.create(F.sub(E,[L,""]));U.insert(Y,V);Y.append(V);}}}if(Y){Y.setStyle("textAlign",L);}});},justifycenter:function(){var A=this;return A.get("host").execCommand(G,"center");},justifyleft:function(){var A=this;return A.get("host").execCommand(G,"left");},justifyright:function(){var A=this;return A.get("host").execCommand(G,"right");},subscript:function(){var A=this;return A.get("host").execCommand("wrap","sub");},superscript:function(){var A=this;return A.get("host").execCommand("wrap","sup");},wraphtml:function(N,P){var A=this;var M=A.get("host");var O=M.getInstance();var L=new O.Selection();var K=L.getSelected();if(!L.isCollapsed&&K.size()){K.each(function(S,Q,U){var R=S.ancestor();var V=C.Node.create(P);R.insert(V,S);if(V.html()!=""){if(V.html()=="{0}"){V.html("");}else{var T=I(V);if(T){V=T;}}}V.append(S);});}else{M.execCommand("inserthtml",F.sub(P,[O.Selection.CURSOR]));if(P.indexOf("{0}")!=-1){L.focusCursor(true,true);}}}});C.Plugin.EditorTools=B;},"@VERSION@",{requires:["aui-base","editor-base"]});