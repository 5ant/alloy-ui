AUI.add("aui-overlay-mask",function(S){var H=S.Lang,M=H.isArray,N=H.isString,P=H.isNumber,Q=S.UA,C=false,J=false,F=(Q.ie&&Q.version.major<=6),Z="absolute",G="alignPoints",X="background",Y="boundingBox",O="contentBox",V="fixed",T="height",B="offsetHeight",I="offsetWidth",U="opacity",W="overlaymask",R="position",K="target",D="width";function E(A){E.superclass.constructor.apply(this,arguments);}S.mix(E,{NAME:W,ATTRS:{alignPoints:{value:["tl","tl"],validator:M},background:{lazyAdd:false,value:null,validator:N,setter:function(A){if(A){this.get(O).setStyle(X,A);}return A;}},target:{lazyAdd:false,value:document,setter:function(A){var L=S.get(A);C=L.compareTo(document);J=L.compareTo(window);return L;}},opacity:{value:0.5,validator:P,setter:function(A){return this._setOpacity(A);}},shim:{value:S.UA.ie},visible:{value:false},zIndex:{value:1000}}});S.extend(E,S.ComponentOverlay,{bindUI:function(){var A=this;E.superclass.bindUI.apply(this,arguments);A.after("targetChange",A._afterTargetChange);A.after("visibleChange",A._afterVisibleChange);S.on("windowresize",S.bind(A.refreshMask,A));},syncUI:function(){var A=this;A.refreshMask();},getTargetSize:function(){var L=this;var b=L.get(K);var A=b.get(B);var a=b.get(I);if(F){if(J){a=S.DOM.winWidth();A=S.DOM.winHeight();}else{if(C){a=S.DOM.docWidth();A=S.DOM.docHeight();}}}else{if(C||J){A="100%";a="100%";}}return{height:A,width:a};},refreshMask:function(){var A=this;var d=A.get(G);var c=A.get(K);var a=A.get(Y);var b=A.getTargetSize();var L=(C||J);a.setStyles({position:(F||!L)?Z:V,left:0,top:0});A.set(T,b.height);A.set(D,b.width);if(!L){A.align(c,d);}},_setOpacity:function(L){var A=this;A.get(O).setStyle(U,L);return L;},_uiSetVisible:function(L){var A=this;E.superclass._uiSetVisible.apply(this,arguments);if(L){A._setOpacity(A.get(U));}},_afterTargetChange:function(L){var A=this;A.refreshMask();},_afterVisibleChange:function(L){var A=this;A._uiSetVisible(L.newVal);}});S.OverlayMask=E;},"@VERSION@",{requires:["aui-base","aui-component-overlay","event-resize"],skinnable:true});