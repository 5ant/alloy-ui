AUI.add("aui-datepicker-select",function(X){var AL=X.Lang,j=AL.isArray,c=function(A){return X.one(A);},F=function(){return X.Node.create(O);},H="appendOrder",Z="",AA="body",AE="boundingBox",AG="button",E="buttonitem",N="buttonNode",z="calendar",G="clearfix",m="contentBox",u="content",T="currentDay",f="currentMonth",a="currentYear",t="data-auiComponentID",V="datepicker",AJ="day",n="dayNode",I="dayNodeName",AH="display",g=".",x="helper",AB="maxDate",R="minDate",J="month",AD="monthNode",q="monthNodeName",p="name",r="option",AM="populateDay",Y="populateMonth",AK="populateYear",l="select",k="selected",w="selectWrapperNode",C=" ",M="srcNode",AC="trigger",B="wrapper",h="year",K="yearNode",W="yearNodeName",e="yearRange",D=X.ClassNameManager.getClassName,S=D(E),b=D(V),d=D(V,AG,B),i=D(V,AJ),o=D(V,AH),Q=D(V,AH,u),AF=D(V,J),y=D(V,l,B),P=D(V,h),v=D(x,G),O="<select></select>",U="<option></option>",AI='<div class="'+d+'"></div>',L="<div class="+y+"></div>";var s=X.Component.create({NAME:V,ATTRS:{appendOrder:{value:["m","d","y"],validator:j},buttonNode:{},dayNode:{setter:c,valueFn:F},monthNode:{setter:c,valueFn:F},yearNode:{setter:c,valueFn:F},dayNodeName:{valueFn:function(){return this.get(n).get(p)||AJ;}},monthNodeName:{valueFn:function(){return this.get(AD).get(p)||J;}},selectWrapperNode:{valueFn:function(){return X.Node.create(L);}},yearNodeName:{valueFn:function(){return this.get(K).get(p)||h;}},trigger:{valueFn:function(){return X.Node.create(AI);}},yearRange:{valueFn:function(){var A=new Date().getFullYear();return[A-10,A+10];},validator:j},calendar:{setter:"_setCalendarConfig",value:{}},populateDay:{value:true},populateMonth:{value:true},populateYear:{value:true}},HTML_PARSER:{buttonNode:g+S,dayNode:g+i,monthNode:g+AF,selectWrapperNode:g+y,trigger:g+d,yearNode:g+P},EXTENDS:X.Component,BIND_UI_ATTRS:["calendar:disabled","calendar:dates","calendar:currentMonth"],prototype:{renderUI:function(){var A=this;A._renderElements();A._renderTriggerButton();A._renderCalendar();},bindUI:function(){var A=this;A._bindSelectEvents();},syncUI:function(){var A=this;A._populateSelects();A._uiSetDates();},_uiSetDisabled:function(AN){var A=this;s.superclass._uiSetDisabled.apply(A,arguments);A.get(n).set("disabled",AN);A.get(AD).set("disabled",AN);A.get(K).set("disabled",AN);},_getAppendOrder:function(){var AN=this;var AR=AN.get(H);var AP={d:AN.get(n),m:AN.get(AD),y:AN.get(K)};var AO=AP[AR[0]];var A=AP[AR[1]];var AQ=AP[AR[2]];var AS=AN.get("id");AO.setAttribute(t,AS);A.setAttribute(t,AS);AQ.setAttribute(t,AS);return[AO,A,AQ];},_renderCalendar:function(){var A=this;var AN=A.get("calendar");AN.trigger=AN.trigger||A.get(AC).item(0);var AO=new X.Calendar(AN).render();AO.addTarget(A);A.calendar=AO;},_renderElements:function(){var AU=this;var AQ=AU.get(AE);var AS=AU.get(m);var A=AU.get(n);var AT=AU.get(AD);var AN=AU.get(K);A.addClass(i);AT.addClass(AF);AN.addClass(P);AQ.addClass(o);AQ.addClass(v);AS.addClass(Q);AT.set(p,AU.get(q));AN.set(p,AU.get(W));A.set(p,AU.get(I));if(!AT.inDoc(X.config.doc)){var AP=AU.get(w);var AO=AU._getAppendOrder();var AR=X.one(document.createTextNode(C));AP.append(AO[0]);AP.append(AR.clone());AP.append(AO[1]);AP.append(AR);AP.append(AO[2]);AS.append(AP);}},_renderTriggerButton:function(){var A=this;var AO=A.get(AC).item(0);var AN=A.get(m);A._buttonItem=new X.ButtonItem({boundingBox:A.get(N),icon:z});AN.append(AO);AO.setAttribute(t,A.get("id"));if(AO.test(g+d)){A._buttonItem.render(AO);}},_bindSelectEvents:function(){var A=this;var AN=A.get(w).all(l);AN.on("change",A._onSelectChange,A);AN.on("keypress",A._onSelectChange,A);},_selectCurrentDay:function(){var A=this;var AN=A.calendar.getCurrentDate();A.get(n).val(String(AN.getDate()));},_selectCurrentMonth:function(){var A=this;var AN=A.calendar.getCurrentDate();A.get(AD).val(String(AN.getMonth()));},_selectCurrentYear:function(){var A=this;var AN=A.calendar.getCurrentDate();A.get(K).val(String(AN.getFullYear()));},_populateSelects:function(){var AW=this;AW._populateDays();AW._populateMonths();AW._populateYears();var AV=AW.get(AD).all(r);var AX=AW.get(K).all(r);var AS=AV.size()-1;var AU=AX.size()-1;var AT=AV.item(0).val();var AQ=AX.item(0).val();var AR=AV.item(AS).val();var AO=AX.item(AU).val();var AN=AW.calendar.getDaysInMonth(AO,AR);var AP=new Date(AQ,AT,1);var A=new Date(AO,AR,AN);AW.calendar.set(AB,A);AW.calendar.set(R,AP);},_populateYears:function(){var AN=this;var AO=AN.get(e);var A=AN.get(K);if(AN.get(AK)){AN._populateSelect(A,AO[0],AO[1]);}},_populateMonths:function(){var A=this;var AN=A.get(AD);var AO=A.calendar._getLocaleMap();var AP=AO.B;if(A.get(Y)){A._populateSelect(AN,0,(AP.length-1),AP);}},_populateDays:function(){var A=this;var AO=A.get(n);var AN=A.calendar.getDaysInMonth();if(A.get(AM)){A._populateSelect(AO,1,AN);}},_populateSelect:function(AU,AR,AN,A,AT){var AO=0;var AP=AR;AU.empty();A=A||[];AT=AT||[];while(AP<=AN){var AS=AT[AP]||AP;var AQ=A[AP]||AP;X.Node.getDOMNode(AU).options[AO]=new Option(AQ,AP);AO++;AP++;}},_onSelectChange:function(AR){var AN=this;var AS=AR.currentTarget||AR.target;var AP=AS.test(g+AF);var A=AN.get(n).val();var AQ=AN.get(AD).val();var AO=AN.get(K).val();AN.calendar.set(T,A);AN.calendar.set(f,AQ);AN.calendar.set(a,AO);if(AP){AN._uiSetCurrentMonth();}AN.calendar._selectDate();},_uiSetCurrentMonth:function(AN){var A=this;A._populateDays();A._selectCurrentDay();},_uiSetDates:function(AN){var A=this;A._selectCurrentDay();A._selectCurrentMonth();A._selectCurrentYear();},_setCalendarConfig:function(AN){var A=this;X.mix(AN,{setValue:false,visible:false});return AN;}}});X.DatePickerSelect=s;},"@VERSION@",{skinnable:true,requires:["aui-calendar-base","aui-button-item"]});