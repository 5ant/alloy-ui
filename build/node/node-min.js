/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.2.0
build: nightly
*/
YUI.add("node-base",function(c){var g=".",e="nodeName",j="nodeType",b="ownerDocument",i="tagName",d="_yuid",f=c.DOM,h=function(m){var l=(m.nodeType!==9)?m.uniqueID:m[d];if(l&&h._instances[l]&&h._instances[l]._node!==m){m[d]=null;}l=l||c.stamp(m);if(!l){l=c.guid();}this[d]=l;this._node=m;h._instances[l]=this;this._stateProxy=m;c.EventTarget.call(this,{emitFacade:true});if(this._initPlugins){this._initPlugins();}},k=function(m){var l=null;if(m){l=(typeof m==="string")?function(o){return c.Selector.test(o,m);}:function(o){return m(c.one(o));};}return l;};h.NAME="node";h.re_aria=/^(?:role$|aria-)/;h.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};c.mix(h.DOM_EVENTS,c.Env.evt.plugins);h._instances={};h.getDOMNode=function(l){if(l){return(l.nodeType)?l:l._node||null;}return null;};h.scrubVal=function(m,l){if(l&&m){if(typeof m==="object"||typeof m==="function"){if(j in m||f.isWindow(m)){m=c.one(m);}else{if((m.item&&!m._nodes)||(m[0]&&m[0][j])){m=c.all(m);}}}}else{if(m===undefined){m=l;}else{if(m===null){m=null;}}}return m;};h.addMethod=function(l,n,m){if(l&&n&&typeof n==="function"){h.prototype[l]=function(){m=m||this;var p=c.Array(arguments,0,true),o;if(p[0]&&c.instanceOf(p[0],h)){p[0]=p[0]._node;}if(p[1]&&c.instanceOf(p[1],h)){p[1]=p[1]._node;}p.unshift(this._node);o=h.scrubVal(n.apply(m,p),this);return o;};}else{}};h.importMethod=function(n,l,m){if(typeof l==="string"){m=m||l;h.addMethod(m,n[l],n);}else{c.Array.each(l,function(o){h.importMethod(n,o);});}};h.one=function(o){var l=null,n,m;if(o){if(typeof o==="string"){if(o.indexOf("doc")===0){o=c.config.doc;}else{if(o.indexOf("win")===0){o=c.config.win;}else{o=c.Selector.query(o,null,true);}}if(!o){return null;}}else{if(c.instanceOf(o,h)){return o;}}if(o.nodeType||c.DOM.isWindow(o)){m=(o.uniqueID&&o.nodeType!==9)?o.uniqueID:o._yuid;l=h._instances[m];n=l?l._node:null;if(!l||(n&&o!==n)){l=new h(o);}}}return l;};h.get=function(){return h.one.apply(h,arguments);};h.create=function(){return c.one(f.create.apply(f,arguments));};h.ATTRS={text:{getter:function(){return f.getText(this._node);},setter:function(l){f.setText(this._node,l);return l;}},"options":{getter:function(){return this._node.getElementsByTagName("option");}},"children":{getter:function(){var o=this._node,n=o.children,p,m,l;if(!n){p=o.childNodes;n=[];for(m=0,l=p.length;m<l;++m){if(p[m][i]){n[n.length]=p[m];}}}return c.all(n);}},value:{getter:function(){return f.getValue(this._node);},setter:function(l){f.setValue(this._node,l);return l;}},data:{getter:function(){return this._dataVal;},setter:function(l){this._dataVal=l;return l;},value:null}};h.DEFAULT_SETTER=function(l,n){var m=this._stateProxy,o;if(l.indexOf(g)>-1){o=l;l=l.split(g);c.Object.setValue(m,l,n);}else{if(m[l]!==undefined){m[l]=n;}}return n;};h.DEFAULT_GETTER=function(l){var m=this._stateProxy,n;if(l.indexOf&&l.indexOf(g)>-1){n=c.Object.getValue(m,l.split(g));}else{if(m[l]!==undefined){n=m[l];}}return n;};c.mix(h,c.EventTarget,false,null,1);c.mix(h.prototype,{toString:function(){var o=this[d]+": not bound to a node",n=this._node,l,p,m;if(n){l=n.attributes;p=(l&&l.id)?n.getAttribute("id"):null;m=(l&&l.className)?n.getAttribute("className"):null;o=n[e];if(p){o+="#"+p;}if(m){o+="."+m.replace(" ",".");}o+=" "+this[d];}return o;},get:function(l){var m;if(this._getAttr){m=this._getAttr(l);}else{m=this._get(l);}if(m){m=h.scrubVal(m,this);}else{if(m===null){m=null;}}return m;},_get:function(l){var m=h.ATTRS[l],n;if(m&&m.getter){n=m.getter.call(this);}else{if(h.re_aria.test(l)){n=this._node.getAttribute(l,2);}else{n=h.DEFAULT_GETTER.apply(this,arguments);}}return n;},set:function(l,n){var m=h.ATTRS[l];if(this._setAttr){this._setAttr.apply(this,arguments);}else{if(m&&m.setter){m.setter.call(this,n);}else{if(h.re_aria.test(l)){this._node.setAttribute(l,n);}else{h.DEFAULT_SETTER.apply(this,arguments);}}}return this;},setAttrs:function(l){if(this._setAttrs){this._setAttrs(l);}else{c.Object.each(l,function(m,o){this.set(o,m);},this);}return this;},getAttrs:function(m){var l={};if(this._getAttrs){this._getAttrs(m);}else{c.Array.each(m,function(o,p){l[o]=this.get(o);},this);}return l;},create:h.create,compareTo:function(l){var m=this._node;if(c.instanceOf(l,h)){l=l._node;}return m===l;},inDoc:function(m){var l=this._node;m=(m)?m._node||m:l[b];if(m.documentElement){return f.contains(m.documentElement,l);}},getById:function(n){var m=this._node,l=f.byId(n,m[b]);if(l&&f.contains(m,l)){l=c.one(l);}else{l=null;}return l;},ancestor:function(l,m){return c.one(f.ancestor(this._node,k(l),m));},previous:function(m,l){return c.one(f.elementByAxis(this._node,"previousSibling",k(m),l));},next:function(m,l){return c.one(f.elementByAxis(this._node,"nextSibling",k(m),l));},siblings:function(l){return c.all(f.siblings(this._node,k(l)));},one:function(l){return c.one(c.Selector.query(l,this._node,true));},query:function(l){return this.one(l);},all:function(l){var m=c.all(c.Selector.query(l,this._node));m._query=l;m._queryRoot=this._node;return m;},queryAll:function(l){return this.all(l);},test:function(l){return c.Selector.test(this._node,l);},remove:function(m){var n=this._node,l=n.parentNode;if(l){l.removeChild(n);}if(m){this.destroy(true);}return this;},replace:function(l){var m=this._node;m.parentNode.replaceChild(h.getDOMNode(l),m);return this;},purge:function(m,l){c.Event.purgeElement(this._node,m,l);return this;},destroy:function(l){delete h._instances[this[d]];this.purge(l);if(this.unplug){this.unplug();}this._node._yuid=null;this._node=null;this._stateProxy=null;},invoke:function(s,m,l,r,q,p){var o=this._node,n;if(m&&c.instanceOf(m,h)){m=m._node;}if(l&&c.instanceOf(l,h)){l=l._node;
}n=o[s](m,l,r,q,p);return h.scrubVal(n,this);},each:function(m,l){l=l||this;return m.call(l,this);},item:function(l){return this;},size:function(){return this._node?1:0;},insert:function(n,l){var m=this._node;if(n){if(typeof l==="number"){l=this._node.childNodes[l];}else{if(l&&l._node){l=l._node;}}if(typeof n!=="string"){if(n._node){n=n._node;}else{if(n._nodes||(!n.nodeType&&n.length)){n=c.all(n);c.each(n._nodes,function(o){f.addHTML(m,o,l);});return this;}}}f.addHTML(m,n,l);}else{}return this;},prepend:function(l){return this.insert(l,0);},append:function(l){return this.insert(l,null);},setContent:function(l){if(l){if(l._node){l=l._node;}else{if(l._nodes){l=f._nl2frag(l._nodes);}}}f.addHTML(this._node,l,"replace");return this;},swap:c.config.doc.documentElement.swapNode?function(l){this._node.swapNode(h.getDOMNode(l));}:function(l){l=h.getDOMNode(l);var n=this._node,m=l.parentNode,o=l.nextSibling;if(o===n){m.insertBefore(n,l);}else{if(l===n.nextSibling){m.insertBefore(l,n);}else{n.parentNode.replaceChild(l,n);f.addHTML(m,n,o);}}return this;},getData:function(m){var l;this._data=this._data||{};if(arguments.length){l=this._data[m];}else{l=this._data;}return l;},setData:function(l,m){this._data=this._data||{};if(arguments.length>1){this._data[l]=m;}else{this._data=l;}return this;},clearData:function(l){if(this._data&&arguments.length){delete this._data[l];}else{this._data={};}return this;},hasMethod:function(m){var l=this._node;return !!(l&&m in l&&typeof l[m]!=="unknown"&&(typeof l[m]==="function"||String(l[m]).indexOf("function")===1));}},true);c.Node=h;c.get=c.Node.get;c.one=c.Node.one;var a=function(l){var m=[];if(typeof l==="string"){this._query=l;l=c.Selector.query(l);}else{if(l.nodeType||f.isWindow(l)){l=[l];}else{if(c.instanceOf(l,c.Node)){l=[l._node];}else{if(c.instanceOf(l[0],c.Node)){c.Array.each(l,function(n){if(n._node){m.push(n._node);}});l=m;}else{l=c.Array(l,0,true);}}}}this._nodes=l;};a.NAME="NodeList";a.getDOMNodes=function(l){return l._nodes;};a.each=function(l,o,n){var m=l._nodes;if(m&&m.length){c.Array.each(m,o,n||l);}else{}};a.addMethod=function(l,n,m){if(l&&n){a.prototype[l]=function(){var p=[],o=arguments;c.Array.each(this._nodes,function(u){var t=(u.uniqueID&&u.nodeType!==9)?"uniqueID":"_yuid",r=c.Node._instances[u[t]],s,q;if(!r){r=a._getTempNode(u);}s=m||r;q=n.apply(s,o);if(q!==undefined&&q!==r){p[p.length]=q;}});return p.length?p:this;};}else{}};a.importMethod=function(n,l,m){if(typeof l==="string"){m=m||l;a.addMethod(l,n[l]);}else{c.Array.each(l,function(o){a.importMethod(n,o);});}};a._getTempNode=function(m){var l=a._tempNode;if(!l){l=c.Node.create("<div></div>");a._tempNode=l;}l._node=m;l._stateProxy=m;return l;};c.mix(a.prototype,{item:function(l){return c.one((this._nodes||[])[l]);},each:function(n,m){var l=this;c.Array.each(this._nodes,function(p,o){p=c.one(p);return n.call(m||p,p,o,l);});return l;},batch:function(m,l){var n=this;c.Array.each(this._nodes,function(q,p){var o=c.Node._instances[q[d]];if(!o){o=a._getTempNode(q);}return m.call(l||o,o,p,n);});return n;},some:function(n,m){var l=this;return c.Array.some(this._nodes,function(p,o){p=c.one(p);m=m||p;return n.call(m,p,o,l);});},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes));},indexOf:function(l){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(l));},filter:function(l){return c.all(c.Selector.filter(this._nodes,l));},modulus:function(o,m){m=m||0;var l=[];a.each(this,function(p,n){if(n%o===m){l.push(p);}});return c.all(l);},odd:function(){return this.modulus(2,1);},even:function(){return this.modulus(2);},destructor:function(){},refresh:function(){var o,m=this._nodes,n=this._query,l=this._queryRoot;if(n){if(!l){if(m&&m[0]&&m[0].ownerDocument){l=m[0].ownerDocument;}}this._nodes=c.Selector.query(n,l);}return this;},_prepEvtArgs:function(o,n,m){var l=c.Array(arguments,0,true);if(l.length<2){l[2]=this._nodes;}else{l.splice(2,0,this._nodes);}l[3]=m||this;return l;},on:function(n,m,l){return c.on.apply(c,this._prepEvtArgs.apply(this,arguments));},after:function(n,m,l){return c.after.apply(c,this._prepEvtArgs.apply(this,arguments));},size:function(){return this._nodes.length;},isEmpty:function(){return this._nodes.length<1;},toString:function(){var o="",n=this[d]+": not bound to any nodes",l=this._nodes,m;if(l&&l[0]){m=l[0];o+=m[e];if(m.id){o+="#"+m.id;}if(m.className){o+="."+m.className.replace(" ",".");}if(l.length>1){o+="...["+l.length+" items]";}}return o||n;}},true);a.importMethod(c.Node.prototype,["append","detach","detachAll","insert","prepend","remove","set","setContent"]);a.prototype.get=function(m){var p=[],o=this._nodes,n=false,q=a._getTempNode,l,r;if(o[0]){l=c.Node._instances[o[0]._yuid]||q(o[0]);r=l._get(m);if(r&&r.nodeType){n=true;}}c.Array.each(o,function(s){l=c.Node._instances[s._yuid];if(!l){l=q(s);}r=l._get(m);if(!n){r=c.Node.scrubVal(r,l);}p.push(r);});return(n)?c.all(p):p;};c.NodeList=a;c.all=function(l){return new a(l);};c.Node.all=c.all;c.Array.each(["replaceChild","appendChild","insertBefore","removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select"],function(l){c.Node.prototype[l]=function(p,n,m){var o=this.invoke(l,p,n,m);return o;};});c.Node.importMethod(c.DOM,["contains","setAttribute","getAttribute"]);c.NodeList.importMethod(c.Node.prototype,["getAttribute","setAttribute","removeAttribute"]);(function(m){var l=["hasClass","addClass","removeClass","replaceClass","toggleClass"];m.Node.importMethod(m.DOM,l);m.NodeList.importMethod(m.Node.prototype,l);})(c);if(!c.config.doc.documentElement.hasAttribute){c.Node.prototype.hasAttribute=function(l){if(l==="value"){if(this.get("value")!==""){return true;}}return !!(this._node.attributes[l]&&this._node.attributes[l].specified);};}c.Node.ATTRS.type={setter:function(m){if(m==="hidden"){try{this._node.type="hidden";}catch(l){this.setStyle("display","none");this._inputType="hidden";}}else{try{this._node.type=m;}catch(l){}}return m;},getter:function(){return this._inputType||this._node.type;
},_bypassProxy:true};if(c.config.doc.createElement("form").elements.nodeType){c.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select");}};}c.mix(c.Node.ATTRS,{offsetHeight:{setter:function(l){c.DOM.setHeight(this._node,l);return l;},getter:function(){return this._node.offsetHeight;}},offsetWidth:{setter:function(l){c.DOM.setWidth(this._node,l);return l;},getter:function(){return this._node.offsetWidth;}}});c.mix(c.Node.prototype,{sizeTo:function(l,m){var n;if(arguments.length<2){n=c.one(l);l=n.get("offsetWidth");m=n.get("offsetHeight");}this.setAttrs({offsetWidth:l,offsetHeight:m});}});},"3.2.0",{requires:["dom-base","selector-css2","event-base"]});YUI.add("node-style",function(a){(function(c){var b=["getStyle","getComputedStyle","setStyle","setStyles"];c.Node.importMethod(c.DOM,b);c.NodeList.importMethod(c.Node.prototype,b);})(a);},"3.2.0",{requires:["dom-style","node-base"]});YUI.add("node-screen",function(a){a.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(b){a.Node.ATTRS[b]={getter:function(){var c=Array.prototype.slice.call(arguments);c.unshift(a.Node.getDOMNode(this));return a.DOM[b].apply(this,c);}};});a.Node.ATTRS.scrollLeft={getter:function(){var b=a.Node.getDOMNode(this);return("scrollLeft" in b)?b.scrollLeft:a.DOM.docScrollX(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollLeft" in b){b.scrollLeft=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(c,a.DOM.docScrollY(b));}}}else{}}};a.Node.ATTRS.scrollTop={getter:function(){var b=a.Node.getDOMNode(this);return("scrollTop" in b)?b.scrollTop:a.DOM.docScrollY(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollTop" in b){b.scrollTop=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(a.DOM.docScrollX(b),c);}}}else{}}};a.Node.importMethod(a.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]);a.Node.ATTRS.region={getter:function(){var b=a.Node.getDOMNode(this),c;if(b&&!b.tagName){if(b.nodeType===9){b=b.documentElement;}}if(b.alert){c=a.DOM.viewportRegion(b);}else{c=a.DOM.region(b);}return c;}};a.Node.ATTRS.viewportRegion={getter:function(){return a.DOM.viewportRegion(a.Node.getDOMNode(this));}};a.Node.importMethod(a.DOM,"inViewportRegion");a.Node.prototype.intersect=function(b,d){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.intersect(c,b,d);};a.Node.prototype.inRegion=function(b,d,e){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.inRegion(c,b,d,e);};},"3.2.0",{requires:["dom-screen"]});YUI.add("node-pluginhost",function(a){a.Node.plug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.plug.apply(a.Base,b);return a.Node;};a.Node.unplug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.unplug.apply(a.Base,b);return a.Node;};a.mix(a.Node,a.Plugin.Host,false,null,1);a.NodeList.prototype.plug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.plug.apply(a.one(c),b);});};a.NodeList.prototype.unplug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.unplug.apply(a.one(c),b);});};},"3.2.0",{requires:["node-base","pluginhost"]});YUI.add("node-event-delegate",function(a){a.Node.prototype.delegate=function(e,d,b){var c=a.Array(arguments,0,true);c.splice(2,0,this._node);return a.delegate.apply(a,c);};},"3.2.0",{requires:["node-base","event-delegate"]});YUI.add("node",function(a){},"3.2.0",{requires:["dom","event-base","event-delegate","pluginhost"],use:["node-base","node-style","node-screen","node-pluginhost","node-event-delegate"],skinnable:false});