/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.2.0
build: nightly
*/
var GLOBAL_ENV=YUI.Env;if(!GLOBAL_ENV._ready){GLOBAL_ENV._ready=function(){GLOBAL_ENV.DOMReady=true;GLOBAL_ENV.remove(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);};GLOBAL_ENV.add(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);}YUI.add("event-base",function(E){E.publish("domready",{fireOnce:true,async:true});if(GLOBAL_ENV.DOMReady){E.fire("domready");}else{E.Do.before(function(){E.fire("domready");},YUI.Env,"_ready");}var A=E.UA,D={},C={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},B=function(H){if(!H){return H;}try{if(H&&3==H.nodeType){H=H.parentNode;}}catch(G){return null;}return E.one(H);},F=function(G,I,H){this._event=G;this._currentTarget=I;this._wrapper=H||D;this.init();};E.extend(F,Object,{init:function(){var H=this._event,I=this._wrapper.overrides,G=H.pageX,L=H.pageY,K,J=this._currentTarget;this.altKey=H.altKey;this.ctrlKey=H.ctrlKey;this.metaKey=H.metaKey;this.shiftKey=H.shiftKey;this.type=(I&&I.type)||H.type;this.clientX=H.clientX;this.clientY=H.clientY;this.pageX=G;this.pageY=L;K=H.keyCode||H.charCode||0;if(A.webkit&&(K in C)){K=C[K];}this.keyCode=K;this.charCode=K;this.which=H.which;this.button=H.button;this.target=B(H.target);this.currentTarget=B(J);this.relatedTarget=B(H.relatedTarget);if(H.type=="mousewheel"||H.type=="DOMMouseScroll"){this.wheelDelta=(H.detail)?(H.detail*-1):Math.round(H.wheelDelta/80)||((H.wheelDelta<0)?-1:1);}if(this._touch){this._touch(H,J,this._wrapper);}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){var G=this._event;if(G.stopImmediatePropagation){G.stopImmediatePropagation();}else{this.stopPropagation();}this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(G){var H=this._event;H.preventDefault();H.returnValue=G||false;this._wrapper.prevented=1;this.prevented=1;},halt:function(G){if(G){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();}});F.resolve=B;E.DOM2EventFacade=F;E.DOMEventFacade=F;(function(){E.Env.evt.dom_wrappers={};E.Env.evt.dom_map={};var O=E.Env.evt,L=E.config,M=L.win,Q=YUI.Env.add,J=YUI.Env.remove,G=function(){YUI.Env.windowLoaded=true;E.Event._load();J(M,"load",G);},H=function(){E.Event._unload();},K="domready",I="~yui|2|compat~",N=function(S){try{return(S&&typeof S!=="string"&&E.Lang.isNumber(S.length)&&!S.tagName&&!S.alert);}catch(R){return false;}},P=function(){var T=false,S=0,U=[],W=O.dom_wrappers,R=null,V=O.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!P._interval){P._interval=setInterval(P._poll,P.POLL_INTERVAL);}},onAvailable:function(X,c,g,Z,e,f){var d=E.Array(X),b,Y;for(b=0;b<d.length;b=b+1){U.push({id:d[b],fn:c,obj:g,override:Z,checkReady:e,compat:f});}S=this.POLL_RETRYS;setTimeout(P._poll,0);Y=new E.EventHandle({_delete:function(){if(Y.handle){Y.handle.detach();return;}var h,a;for(h=0;h<d.length;h++){for(a=0;a<U.length;a++){if(d[h]===U[a].id){U.splice(a,1);}}}}});return Y;},onContentReady:function(b,Z,a,Y,X){return P.onAvailable(b,Z,a,Y,true,X);},attach:function(a,Z,Y,X){return P._attach(E.Array(arguments,0,true));},_createWrapper:function(d,c,Y,b,X){var Z,e=E.stamp(d),a="event:"+e+c;if(false===X){a+="native";}if(Y){a+="capture";}Z=W[a];if(!Z){Z=E.publish(a,{silent:true,bubbles:false,contextFn:function(){if(b){return Z.el;}else{Z.nodeRef=Z.nodeRef||E.one(Z.el);return Z.nodeRef;}}});Z.overrides={};Z.el=d;Z.key=a;Z.domkey=e;Z.type=c;Z.fn=function(f){Z.fire(P.getEvent(f,d,(b||(false===X))));};Z.capture=Y;if(d==M&&c=="load"){Z.fireOnce=true;R=a;}W[a]=Z;V[e]=V[e]||{};V[e][a]=Z;Q(d,c,Z.fn,Y);}return Z;},_attach:function(d,c){var j,l,a,i,X,Z=false,b,e=d[0],f=d[1],Y=d[2]||M,g=c&&c.facade,k=c&&c.capture,h=c&&c.overrides;if(d[d.length-1]===I){j=true;}if(!f||!f.call){return false;}if(N(Y)){l=[];E.each(Y,function(n,m){d[2]=n;l.push(P._attach(d,c));});return new E.EventHandle(l);}else{if(E.Lang.isString(Y)){if(j){a=E.DOM.byId(Y);}else{a=E.Selector.query(Y);switch(a.length){case 0:a=null;break;case 1:a=a[0];break;default:d[2]=a;return P._attach(d,c);}}if(a){Y=a;}else{b=P.onAvailable(Y,function(){b.handle=P._attach(d,c);},P,true,false,j);return b;}}}if(!Y){return false;}if(E.Node&&E.instanceOf(Y,E.Node)){Y=E.Node.getDOMNode(Y);}i=P._createWrapper(Y,e,k,j,g);if(h){E.mix(i.overrides,h);}if(Y==M&&e=="load"){if(YUI.Env.windowLoaded){Z=true;}}if(j){d.pop();}X=d[3];b=i._on(f,X,(d.length>4)?d.slice(4):null);if(Z){i.fire();}return b;},detach:function(e,g,Z,c){var d=E.Array(arguments,0,true),h,a,f,b,X,Y;if(d[d.length-1]===I){h=true;}if(e&&e.detach){return e.detach();}if(typeof Z=="string"){if(h){Z=E.DOM.byId(Z);}else{Z=E.Selector.query(Z);a=Z.length;if(a<1){Z=null;}else{if(a==1){Z=Z[0];}}}}if(!Z){return false;}if(Z.detach){d.splice(2,1);return Z.detach.apply(Z,d);}else{if(N(Z)){f=true;for(b=0,a=Z.length;b<a;++b){d[2]=Z[b];f=(E.Event.detach.apply(E.Event,d)&&f);}return f;}}if(!e||!g||!g.call){return P.purgeElement(Z,false,e);}X="event:"+E.stamp(Z)+e;Y=W[X];if(Y){return Y.detach(g);}else{return false;}},getEvent:function(a,Y,X){var Z=a||M.event;return(X)?Z:new E.DOMEventFacade(Z,Y,W["event:"+E.stamp(Y)+a.type]);},generateId:function(X){var Y=X.id;if(!Y){Y=E.stamp(X);X.id=Y;}return Y;},_isValidCollection:N,_load:function(X){if(!T){T=true;if(E.fire){E.fire(K);}P._poll();}},_poll:function(){if(P.locked){return;}if(E.UA.ie&&!YUI.Env.DOMReady){P.startInterval();return;}P.locked=true;var Y,X,c,Z,b,d,a=!T;if(!a){a=(S>0);}b=[];d=function(g,h){var f,e=h.override;if(h.compat){if(h.override){if(e===true){f=h.obj;}else{f=e;}}else{f=g;}h.fn.call(f,h.obj);}else{f=h.obj||E.one(g);h.fn.apply(f,(E.Lang.isArray(e))?e:[]);}};for(Y=0,X=U.length;Y<X;++Y){c=U[Y];if(c&&!c.checkReady){Z=(c.compat)?E.DOM.byId(c.id):E.Selector.query(c.id,null,true);if(Z){d(Z,c);U[Y]=null;}else{b.push(c);}}}for(Y=0,X=U.length;Y<X;++Y){c=U[Y];if(c&&c.checkReady){Z=(c.compat)?E.DOM.byId(c.id):E.Selector.query(c.id,null,true);
if(Z){if(T||(Z.get&&Z.get("nextSibling"))||Z.nextSibling){d(Z,c);U[Y]=null;}}else{b.push(c);}}}S=(b.length===0)?0:S-1;if(a){P.startInterval();}else{clearInterval(P._interval);P._interval=null;}P.locked=false;return;},purgeElement:function(a,X,f){var b=(E.Lang.isString(a))?E.Selector.query(a,null,true):a,g=P.getListeners(b,f),c,d,e,Z,Y;if(X&&b){g=g||[];Z=E.Selector.query("*",b);c=0;d=Z.length;for(;c<d;++c){Y=P.getListeners(Z[c],f);if(Y){g=g.concat(Y);}}}if(g){c=0;d=g.length;for(;c<d;++c){e=g[c];e.detachAll();J(e.el,e.type,e.fn,e.capture);delete W[e.key];delete V[e.domkey][e.key];}}},getListeners:function(c,b){var d=E.stamp(c,true),Y=V[d],a=[],Z=(b)?"event:"+d+b:null,X=O.plugins;if(!Y){return null;}if(Z){if(X[b]&&X[b].eventDef){Z+="_synth";}if(Y[Z]){a.push(Y[Z]);}Z+="native";if(Y[Z]){a.push(Y[Z]);}}else{E.each(Y,function(f,e){a.push(f);});}return(a.length)?a:null;},_unload:function(X){E.each(W,function(Z,Y){Z.detachAll();J(Z.el,Z.type,Z.fn,Z.capture);delete W[Y];delete V[Z.domkey][Y];});J(M,"unload",H);},nativeAdd:Q,nativeRemove:J};}();E.Event=P;if(L.injected||YUI.Env.windowLoaded){G();}else{Q(M,"load",G);}if(E.UA.ie){E.on(K,P._poll);}Q(M,"unload",H);P.Custom=E.CustomEvent;P.Subscriber=E.Subscriber;P.Target=E.EventTarget;P.Handle=E.EventHandle;P.Facade=E.EventFacade;P._poll();})();E.Env.evt.plugins.available={on:function(I,H,K,J){var G=arguments.length>4?E.Array(arguments,4,true):null;return E.Event.onAvailable.call(E.Event,K,H,J,G);}};E.Env.evt.plugins.contentready={on:function(I,H,K,J){var G=arguments.length>4?E.Array(arguments,4,true):null;return E.Event.onContentReady.call(E.Event,K,H,J,G);}};},"3.2.0",{requires:["event-custom-base"]});YUI.add("event-delegate",function(F){var C=F.Array,A=F.Lang,E=A.isString,G=F.Selector.test,B=F.Env.evt.handles;function D(P,S,J,M){var O=C(arguments,0,true),Q=E(J)?J:null,H=P.split(/\|/),L,N,K,R,I;if(H.length>1){R=H.shift();P=H.shift();}L=F.Node.DOM_EVENTS[P];if(A.isObject(L)&&L.delegate){I=L.delegate.apply(L,arguments);}if(!I){if(!P||!S||!J||!M){return;}N=(Q)?F.Selector.query(Q,null,true):J;if(!N&&E(J)){I=F.on("available",function(){F.mix(I,F.delegate.apply(F,O),true);},J);}if(!I&&N){O.splice(2,2,N);I=F.Event._attach(O,{facade:false});I.sub.filter=M;I.sub._notify=D.notifySub;}}if(I&&R){K=B[R]||(B[R]={});K=K[P]||(K[P]=[]);K.push(I);}return I;}D.notifySub=function(N,J,M){J=J.slice();if(this.args){J.push.apply(J,this.args);}var O=D._applyFilter(this.filter,J,M),L,K,H,I;if(O){O=C(O);L=J[0]=new F.DOMEventFacade(J[0],M.el,M);L.container=F.one(M.el);for(K=0,H=O.length;K<H&&!L.stopped;++K){L.currentTarget=F.one(O[K]);I=this.fn.apply(this.context||L.currentTarget,J);if(I===false){break;}}return I;}};D.compileFilter=F.cached(function(H){return function(J,I){return G(J._node,H,I.currentTarget._node);};});D._applyFilter=function(H,J,M){var L=J[0],K=M.el,N=L.target||L.srcElement,I=[];if(N.nodeType===3){N=N.parentNode;}J.unshift(N);if(E(H)){while(N&&N!==K){if(G(N,H,K)){I.push(N);}N=N.parentNode;}}else{J[0]=F.one(N);J[1]=new F.DOMEventFacade(L,K,M);while(N&&N!==K){if(H.apply(J[0],J)){I.push(N);}N=N.parentNode;J[0]=F.one(N);}J[1]=L;}if(I.length<=1){I=I[0];}J.shift();return I;};F.delegate=F.Event.delegate=D;},"3.2.0",{requires:["node-base"]});YUI.add("event-synthetic",function(A){var I=A.Env.evt.dom_map,B=A.Array,G=A.Lang,H=G.isObject,D=G.isString,E=A.Selector.query,J=function(){};function F(K,L){this.handle=K;this.emitFacade=L;}F.prototype.fire=function(Q){var L=B(arguments,0,true),K=this.handle,P=K.evt,N=K.sub,R=N.context,M=N.filter,O=Q||{};if(this.emitFacade){if(!Q||!Q.preventDefault){O=P._getFacade();if(H(Q)&&!Q.preventDefault){A.mix(O,Q,true);L[0]=O;}else{L.unshift(O);}}O.type=P.type;O.details=L.slice();if(M){O.container=P.host;}}else{if(M&&H(Q)&&Q.currentTarget){L.shift();}}N.context=R||O.currentTarget||P.host;P.fire.apply(P,L);N.context=R;};function C(){this._init.apply(this,arguments);}A.mix(C,{Notifier:F,getRegistry:function(Q,P,L){var O=Q._node,N=A.stamp(O),M="event:"+N+P+"_synth",K=I[N]||(I[N]={});if(!K[M]&&L){K[M]={type:"_synth",fn:J,capture:false,el:O,key:M,domkey:N,notifiers:[],detachAll:function(){var R=this.notifiers,S=R.length;while(--S>=0){R[S].detach();}}};}return(K[M])?K[M].notifiers:null;},_deleteSub:function(L){if(L&&L.fn){var K=this.eventDef,M=(L.filter)?"detachDelegate":"detach";this.subscribers={};this.subCount=0;K[M](L.node,L,this.notifier,L.filter);K._unregisterSub(L);delete L.fn;delete L.node;delete L.context;}},prototype:{constructor:C,_init:function(){var K=this.publishConfig||(this.publishConfig={});this.emitFacade=("emitFacade" in K)?K.emitFacade:true;K.emitFacade=false;},processArgs:J,on:J,detach:J,delegate:J,detachDelegate:J,_on:function(N,P){var O=[],L=N[2],Q=P?"delegate":"on",M,K;M=(D(L))?E(L):B(L);if(!M.length&&D(L)){K=A.on("available",function(){A.mix(K,A[Q].apply(A,N),true);},L);return K;}A.each(M,function(U){var S=N.slice(),R,T;U=A.one(U);if(U){R=this.processArgs(S,P);if(P){T=S.splice(3,1)[0];}S.splice(0,4,S[1],S[3]);if(!this.preventDups||!this.getSubs(U,N,null,true)){K=this._getNotifier(U,S,R,T);this[Q](U,K.sub,K.notifier,T);O.push(K);}}},this);return(O.length===1)?O[0]:new A.EventHandle(O);},_getNotifier:function(N,P,M,O){var R=new A.CustomEvent(this.type,this.publishConfig),L=R.on.apply(R,P),S=new F(L,this.emitFacade),Q=C.getRegistry(N,this.type,true),K=L.sub;L.notifier=S;K.node=N;K.filter=O;K._extra=M;A.mix(R,{eventDef:this,notifier:S,host:N,currentTarget:N,target:N,el:N._node,_delete:C._deleteSub},true);Q.push(L);return L;},_unregisterSub:function(M){var K=C.getRegistry(M.node,this.type),L;if(K){for(L=K.length-1;L>=0;--L){if(K[L].sub===M){K.splice(L,1);break;}}}},_detach:function(M){var R=M[2],P=(D(R))?E(R):B(R),Q,O,K,N,L;M.splice(2,1);for(O=0,K=P.length;O<K;++O){Q=A.one(P[O]);if(Q){N=this.getSubs(Q,M);if(N){for(L=N.length-1;L>=0;--L){N[L].detach();}}}}},getSubs:function(L,Q,P,N){var R=C.getRegistry(L,this.type),S=[],M,O,K;if(R){if(!P){P=this.subMatch;}for(M=0,O=R.length;M<O;++M){K=R[M];if(P.call(this,K.sub,Q)){if(N){return K;
}else{S.push(R[M]);}}}}return S.length&&S;},subMatch:function(L,K){return !K[1]||L.fn===K[1];}}},true);A.SyntheticEvent=C;A.Event.define=function(M,L,O){if(!L){L={};}var N=(H(M))?M:A.merge({type:M},L),P,K;if(O||!A.Node.DOM_EVENTS[N.type]){P=function(){C.apply(this,arguments);};A.extend(P,C,N);K=new P();M=K.type;A.Node.DOM_EVENTS[M]=A.Env.evt.plugins[M]={eventDef:K,on:function(){return K._on(B(arguments));},delegate:function(){return K._on(B(arguments),true);},detach:function(){return K._detach(B(arguments));}};}return K;};},"3.2.0",{requires:["node-base","event-custom"]});YUI.add("event-mousewheel",function(C){var A="DOMMouseScroll",B=function(E){var D=C.Array(E,0,true),F;if(C.UA.gecko){D[0]=A;F=C.config.win;}else{F=C.config.doc;}if(D.length<3){D[2]=F;}else{D.splice(2,0,F);}return D;};C.Env.evt.plugins.mousewheel={on:function(){return C.Event._attach(B(arguments));},detach:function(){return C.Event.detach.apply(C.Event,B(arguments));}};},"3.2.0",{requires:["node-base"]});YUI.add("event-mouseenter",function(C){function A(G,D){var F=G.currentTarget,E=G.relatedTarget;if(F!==E&&!F.contains(E)){D.fire(G);}}var B={proxyType:"mouseover",on:function(F,D,E){D.onHandle=F.on(this.proxyType,A,null,E);},detach:function(E,D){D.onHandle.detach();},delegate:function(G,E,F,D){E.delegateHandle=C.delegate(this.proxyType,A,G,D,null,F);},detachDelegate:function(E,D){D.delegateHandle.detach();}};C.Event.define("mouseenter",B,true);C.Event.define("mouseleave",C.merge(B,{proxyType:"mouseout"}),true);},"3.2.0",{requires:["event-synthetic"]});YUI.add("event-key",function(A){A.Env.evt.plugins.key={on:function(F,G,C,J,D){var I=A.Array(arguments,0,true),B,K,H,E;B=J&&J.split(":");if(!J||J.indexOf(":")==-1||!B[1]){I[0]="key"+((B&&B[0])||"press");return A.on.apply(A,I);}K=B[0];H=(B[1])?B[1].split(/,|\+/):null;E=(A.Lang.isString(C)?C:A.stamp(C))+J;E=E.replace(/,/g,"_");if(!A.getEvent(E)){A.on(F+K,function(Q){var P=false,N=false,M,L,O;for(M=0;M<H.length;M=M+1){L=H[M];O=parseInt(L,10);if(A.Lang.isNumber(O)){if(Q.charCode===O){P=true;}else{N=true;}}else{if(P||!N){P=(Q[L+"Key"]);N=!P;}}}if(P){A.fire(E,Q);}},C);}I.splice(2,2);I[0]=E;return A.on.apply(A,I);}};},"3.2.0",{requires:["node-base"]});YUI.add("event-focus",function(F){var B=F.Event,A=F.Lang,D=A.isString,C=A.isFunction(F.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);function E(I,H,J){var G="_"+I+"Notifiers";F.Event.define(I,{_attach:function(L,M,K){if(F.DOM.isWindow(L)){return B._attach([I,function(N){M.fire(N);},L]);}else{return B._attach([H,this._proxy,L,this,M,K],{capture:true});}},_proxy:function(O,T,P){var M=O.target,R=M.getData(G),S=F.stamp(O.currentTarget._node),L=(C||O.target!==O.currentTarget),K=T.handle.sub,Q=[M,O].concat(K.args||[]),N;T.currentTarget=(P)?M:O.currentTarget;T.container=(P)?O.currentTarget:null;if(!K.filter||K.filter.apply(M,Q)){if(!R){R={};M.setData(G,R);if(L){N=B._attach([J,this._notify,M._node]).sub;N.once=true;}}if(!R[S]){R[S]=[];}R[S].push(T);if(!L){this._notify(O);}}},_notify:function(P,Q){var M=P.currentTarget,R=M.getData(G),S=M.get("ownerDocument")||M,L=M,K=[],T,N,O;if(R){while(L&&L!==S){K.push.apply(K,R[F.stamp(L)]||[]);L=L.get("parentNode");}K.push.apply(K,R[F.stamp(S)]||[]);for(N=0,O=K.length;N<O;++N){T=K[N];P.currentTarget=K[N].currentTarget;if(T.container){P.container=T.container;}else{delete P.container;}T.fire(P);}M.clearData(G);}},on:function(M,K,L){K.onHandle=this._attach(M._node,L);},detach:function(L,K){K.onHandle.detach();},delegate:function(N,L,M,K){if(D(K)){L.filter=F.delegate.compileFilter(K);}L.delegateHandle=this._attach(N._node,M,true);},detachDelegate:function(L,K){K.delegateHandle.detach();}},true);}if(C){E("focus","beforeactivate","focusin");E("blur","beforedeactivate","focusout");}else{E("focus","focus","focus");E("blur","blur","blur");}},"3.2.0",{requires:["event-synthetic"]});YUI.add("event-resize",function(A){(function(){var C,B,E="window:resize",D=function(F){if(A.UA.gecko){A.fire(E,F);}else{if(B){B.cancel();}B=A.later(A.config.windowResizeDelay||40,A,function(){A.fire(E,F);});}};A.Env.evt.plugins.windowresize={on:function(H,G){if(!C){C=A.Event._attach(["resize",D]);}var F=A.Array(arguments,0,true);F[0]=E;return A.on.apply(A,F);}};})();},"3.2.0",{requires:["node-base"]});YUI.add("event",function(A){},"3.2.0",{use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize"]});