/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.2.0
build: nightly
*/
YUI.add("event-focus",function(F){var B=F.Event,A=F.Lang,D=A.isString,C=A.isFunction(F.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);function E(I,H,J){var G="_"+I+"Notifiers";F.Event.define(I,{_attach:function(L,M,K){if(F.DOM.isWindow(L)){return B._attach([I,function(N){M.fire(N);},L]);}else{return B._attach([H,this._proxy,L,this,M,K],{capture:true});}},_proxy:function(O,T,P){var M=O.target,R=M.getData(G),S=F.stamp(O.currentTarget._node),L=(C||O.target!==O.currentTarget),K=T.handle.sub,Q=[M,O].concat(K.args||[]),N;T.currentTarget=(P)?M:O.currentTarget;T.container=(P)?O.currentTarget:null;if(!K.filter||K.filter.apply(M,Q)){if(!R){R={};M.setData(G,R);if(L){N=B._attach([J,this._notify,M._node]).sub;N.once=true;}}if(!R[S]){R[S]=[];}R[S].push(T);if(!L){this._notify(O);}}},_notify:function(P,Q){var M=P.currentTarget,R=M.getData(G),S=M.get("ownerDocument")||M,L=M,K=[],T,N,O;if(R){while(L&&L!==S){K.push.apply(K,R[F.stamp(L)]||[]);L=L.get("parentNode");}K.push.apply(K,R[F.stamp(S)]||[]);for(N=0,O=K.length;N<O;++N){T=K[N];P.currentTarget=K[N].currentTarget;if(T.container){P.container=T.container;}else{delete P.container;}T.fire(P);}M.clearData(G);}},on:function(M,K,L){K.onHandle=this._attach(M._node,L);},detach:function(L,K){K.onHandle.detach();},delegate:function(N,L,M,K){if(D(K)){L.filter=F.delegate.compileFilter(K);}L.delegateHandle=this._attach(N._node,M,true);},detachDelegate:function(L,K){K.delegateHandle.detach();}},true);}if(C){E("focus","beforeactivate","focusin");E("blur","beforedeactivate","focusout");}else{E("focus","focus","focus");E("blur","blur","blur");}},"3.2.0",{requires:["event-synthetic"]});