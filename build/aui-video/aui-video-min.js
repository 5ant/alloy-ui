AUI.add("aui-video",function(B){var H=B.Lang,F=B.UA,D=B.ClassNameManager.getClassName,I="video",E=D(I),G=B.config.base+"aui-video/assets/player.swf";var C=B.Component.create({NAME:I,ATTRS:{url:{value:""},ogvUrl:{value:""},swfUrl:{value:G},poster:{value:""},fixedAttributes:{value:{}},flashVars:{value:{}},render:{value:true}},SYNC_UI_ATTRS:["url","poster","ogvUrl"],BIND_UI_ATTRS:["url","poster","ogvUrl","swfUrl","fixedAttributes","flashVars"],prototype:{renderUI:function(){var A=this;var L=B.guid();A._videoId=L;var J=A.get("contentBox");var K='<video id="'+L+'" width="100%" height="100%" controls="controls" class="'+E+'"></video>';J.set("innerHTML",K);A._video=B.one("#"+L);A._dtSwf=new B.DelayedTask(function(){A._updateSwf();});},bindUI:function(){var A=this;A.publish("videoReady",{fireOnce:true});},syncUI:function(){var A=this;},toString:function(){var A=this;return"VIDEO"+A._videoId;},_eventHandler:function(K){var A=this;var J=K.type;if(J!="log"){A.fire(J,K);}},_updateSwf:function(){var P=this;var L=P.get("swfUrl");if(L){var O=P.get("url");var Q=P.get("poster");var M=P.get("flashVars");B.mix(M,{controls:true,src:O,poster:Q});var A=B.QueryString.stringify(M);if(P._swfId){P._video.removeChild(B.one("#"+P._swfId));}else{P._swfId=B.guid();}var J='<object id="'+P._swfId+'" ';if(F.ie){J+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ';}else{J+='type="application/x-shockwave-flash" data="'+L+'" ';}J+='height="100%" width="100%">';if(F.ie){J+='<param name="movie" value="'+L+'"/>';}var N=P.get("fixedAttributes");for(var K in N){J+='<param name="'+K+'" value="'+N[K]+'" />';}if(A){J+='<param name="flashVars" value="'+A+'" />';}if(Q!=""){J+='<img src="'+Q+'" alt="" />';}J+="</object>";P._video.append(J);}},_uiSetUrl:function(L){var J=this;var A=J.get("ogvUrl");if(!F.gecko||A){if(J._sourceMp4!=null){J._sourceMp4.setAttribute("src",L);}else{var K='<source src="'+L+'" type="video/mp4;" />';J._video.append(K);J._sourceMp4=J._video.one('source[type^="video/mp4"]');}}J._dtSwf.delay(1);},_uiSetOgvUrl:function(K){var A=this;if(A._sourceOgv!=null){A._sourceOgv.setAttribute("src",K);}else{var J='<source src="'+K+'" type=\'video/ogg; codecs="theora, vorbis"\' />';A._video.append(J);A._sourceOgv=A._video.one('source[type^="video/ogg"]');}},_uiSetSwfUrl:function(J){var A=this;A._dtSwf.delay(1);},_uiSetPoster:function(J){var A=this;A._video.setAttribute("poster",J);A._dtSwf.delay(1);},_uiSetFixedAttributes:function(J){var A=this;A._dtSwf.delay(1);},_uiSetFlashVars:function(J){var A=this;A._dtSwf.delay(1);}}});B.Video=C;},"@VERSION@",{skinnable:true,requires:["aui-base","querystring-stringify-simple"]});