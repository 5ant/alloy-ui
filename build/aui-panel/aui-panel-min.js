AUI.add("aui-panel",function(u){var g=u.Lang,p=g.isArray,m=g.isBoolean,B=u.WidgetStdMod,C="boundingBox",d="collapse",k="collapsed",s="collapsible",e="icon",l="id",w="minus",b="panel",c="plus",t="title",r="icons",q="useARIA",y="visible",D="",i=u.ClassNameManager.getClassName,j=i("helper","clearfix"),f=i(b,k),o=i(b),z=i(b,"hd","text"),a=i(b,"icons"),h={body:"bd",footer:"ft",header:"hd"},v=document.createTextNode(""),n='<span class="'+z+'"></span>';var x=function(){};x.ATTRS={collapsed:{value:false,validator:m},collapsible:{value:false,validator:m},title:{value:"",validator:function(A){return g.isString(A)||m(A);}},icons:{value:[],validator:p},strings:{value:{toggle:"Toggle collapse"}},useARIA:{value:true}};x.prototype={initializer:function(E){var A=this;if(!E.bodyContent){A.set("bodyContent",v);}if(!E.headerContent){A.set("headerContent",v);}A.after("collapsedChange",A._afterCollapsedChange);A.after("render",A._afterPanelRender);A.after("titleChange",A._afterTitleChange);},syncUI:function(){var A=this;if(A.get(q)){A.plug(u.Plugin.Aria,{after:{processAttribute:function(I){var E=this;var H=E.get("host");if(I.aria.attrName==k){var J=H.get(k);if(H.icons){var F=H.icons;var G=F.item(d);if(G){E.setAttribute("pressed",J,G.get(C));}}E.setAttribute("hidden",J,H.bodyNode);I.halt();}}},attributes:{collapsed:"hidden"}});}},collapse:function(){var A=this;A.set(k,true);},expand:function(){var A=this;A.set(k,false);},toggle:function(){var A=this;A.set(y,!A.get(y));},toggleCollapse:function(){var A=this;if(A.get(k)){A.expand();}else{A.collapse();}},_addPanelClass:function(J){var A=this;var I=A[J+"Node"];if(I){var G=h[J];var H=i(b,G);var F=A.name;var E=i(F,G);I.addClass(H);I.addClass(E);}},_renderIconButtons:function(){var E=this;var F=E.get(r);if(E.get(s)){var G=E.get(k)?c:w;F.unshift({icon:G,id:d,handler:{fn:E.toggleCollapse,context:E},title:E.get("strings").toggle});}E.icons=new u.Toolbar({children:F}).render(E.headerNode);var A=E.icons.get(C);A.addClass(a);E.setStdModContent(B.HEADER,A,B.BEFORE);},_renderHeaderText:function(){var A=this;A.headerTextNode=u.Node.create(n).addClass(z);if(!A.get(t)){A.set(t,A.headerNode.html());}A._syncTitleUI();},_syncCollapsedUI:function(){var A=this;if(A.get(s)){var H=A.bodyNode;var E=A.get(C);var I=A.get(k);if(A.icons){var F=A.icons;var G=F.item(d);if(G){G.set(e,I?c:w);}}if(I){H.hide();E.addClass(f);}else{H.show();E.removeClass(f);}}},_syncTitleUI:function(){var A=this;var E=A.headerTextNode;var F=A.get(t);E.html(F);A.setStdModContent(B.HEADER,E,B.BEFORE);},_afterCollapsedChange:function(E){var A=this;A._syncCollapsedUI();},_afterPanelRender:function(E){var A=this;A.headerNode.addClass(j);A._addPanelClass("body");A._addPanelClass("footer");A._addPanelClass("header");A._renderHeaderText();A._renderIconButtons();A.get("contentBox").setAttribute("role","tablist");A._syncCollapsedUI();A._setDefaultARIAValues();},_afterTitleChange:function(E){var A=this;A._syncTitleUI();},_setDefaultARIAValues:function(){var A=this;if(!A.get(q)){return;}var E=A.headerNode;var K=E.generateID();var H=A.bodyNode;var I=H.generateID();var F=[{name:"tab",node:E},{name:"tabpanel",node:H}];A.aria.setRoles(F);var J=[{name:"controls",value:I,node:E},{name:"labelledby",value:K,node:H},{name:"describedby",value:K,node:H}];if(A.icons){var G=A.icons.item(d);if(G){J.push({name:"controls",value:I,node:G.get(C)});}}A.aria.setAttributes(J);}};u.Panel=u.Base.build(b,u.Component,[x,u.WidgetStdMod]);},"@VERSION@",{skinnable:true,requires:["aui-component","widget-stdmod","aui-toolbar","aui-aria"]});