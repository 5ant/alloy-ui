AUI.add("aui-form-builder-field",function(bI){var bC=bI.Lang,aE=bC.isArray,af=bC.isString,c="acceptChildren",ax="boundingBox",bQ="builder",bY="button",B="buttons",b3="buttonsNode",bd="checkbox",C="checked",b7="children",bU="clearfix",ay="close",aA="component",b2="contentBox",a9="container",x="default",aG="delete",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",V="dropNode",az="dropZone",aX="dropZoneNode",bf="duplicate",F="edit",bm="",a3="field",f="fields",bs="for",q="form",aO="formBuilder",bc="form-builder-field",n="helper",ak="hidden",p="icon",bT="id",Z="label",X="labelNode",aV="metadata",aq="name",b9="node",a="panel",aP="portalLayout",a7="predefinedValue",a4="proxy",ah="required",bn="state",aZ="settings",ai="settingsFormNode",bM="showLabel",am="size",O=" ",ag="string",bK="templateNode",be="unique",bz="zone",aH="widget",v=bI.getClassName,a1=v(aA),ba=v(a3,Z),b6=v(n,bU),U=v(n,ak),bv=v(bn,x),w=v(q,bQ,bY),al=v(q,bQ,bY,aG),aU=v(q,bQ,bY,bf),G=v(q,bQ,bY,F),b8=v(q,bQ,p),i=v(q,bQ,p,aG),s=v(q,bQ,p,bf),bE=v(q,bQ,p,F),br=v(q,bQ,a3),bg=v(q,bQ,a3,B),aY=v(q,bQ,ap,b9),bA=v(q,bQ,ap,bz),bo=v(q,bQ,be),bS=v(aH),bG='<li class="'+[bS,a1,br].join(O)+'"></li>',l='<div class="'+[bg,U].join(O)+'">'+'<a class="'+[w,G].join(O)+'" href="javascript:;" title="Edit">'+'<div class="'+[b8,bE].join(O)+'"></div>'+"</a>"+'<a class="'+[w,aU].join(O)+'" href="javascript:;" title="Duplicate">'+'<div class="'+[b8,s].join(O)+'"></div>'+"</a>"+'<a class="'+[w,al].join(O)+'" href="javascript:;" title="Delete">'+'<div class="'+[b8,i].join(O)+'"></div>'+"</a>"+"</div>",bV='<div class="'+b6+'"></div>',aM='<label class="'+ba+'"></label>',T='<ul class="'+bA+'"></ul>';var b5=bI.Component.create({NAME:bc,ATTRS:{acceptChildren:{value:true},dataType:{value:ag},key:{value:bm},formBuilder:{value:undefined},id:{value:bm},icon:{value:bm},label:{value:bm},name:{valueFn:function(){var A=this;return A.get(N)+(++bI.Env._uidx);}},parent:{value:null},predefinedValue:{value:bm},required:{setter:bI.DataType.Boolean.parse,value:false},selected:{setter:bI.DataType.Boolean.parse,value:false},showLabel:{setter:bI.DataType.Boolean.parse,value:true},template:{value:bm},type:{value:bm},unique:{setter:bI.DataType.Boolean.parse,value:false},buttonsNode:{valueFn:function(){return bI.Node.create(l);}},dropZoneNode:{valueFn:function(){return bI.Node.create(T);}},labelNode:{valueFn:function(){return bI.Node.create(aM);}},templateNode:{valueFn:"getNode"}},AUGMENTS:[bI.FormBuilderFieldSupport],UI_ATTRS:[c,a7,Z,aq,bM,be],HTML_PARSER:{buttonsNode:bw+bg,dropZoneNode:bw+bA,labelNode:Z+bw+ba},prototype:{BOUNDING_TEMPLATE:bG,initializer:function(){var A=this;A.get(ax).setData(a3,A);},bindUI:function(){var A=this;},renderUI:function(){var A=this;var cd=A.get(ax);var ce=A.get(b3);var L=A.get(b2);var cc=A.get(X);var cb=A.get(bK);if(!cd.contains(ce)){cd.prepend(ce);}if(!L.contains(cc)){L.append(cc);cc.setAttribute(bs,cb.get(bT));}if(!L.contains(cb)){L.append(cb);}},saveSettings:function(){var A=this;var L=A.get(aO);var cb=L.get(ai);bI.Array.each(bI.io._serialize(cb._node).split("&"),function(cc){var cd=cc.split("=");A.set(cd[0],decodeURIComponent(cd[1]));});},renderSettings:function(){var A=this;var cc=A.get(aO);var cd=cc.get(ai);if(!A.fieldSettingsNode){A.fieldSettingsNode=bI.Node.create(bV);var ce=bI.Node.create(bV);A.labelField=new bI.Field({type:"text",name:Z,labelText:"Label",value:A.get(Z)}).render(ce);A.labelField.get(b9).on({keyup:bI.bind(A._onLabelKeyUp,A)});A.showLabelField=new bI.Field({type:"checkbox",name:bM,labelText:"Show label",labelAlign:"left",value:A.get(bM)}).render(ce);var L=A.showLabelField.get(b9);L.set(C,A.get(bM));L.on({change:bI.bind(A._onSettingsFieldChange,A)});A._renderSettingsFields([{type:"text",name:aq,labelText:"Name",value:A.get(aq)},{type:"text",name:a7,labelText:"Default value",value:A.get(a7)}],ce);A.requiredField=new bI.Field({type:"checkbox",name:ah,labelText:"Required",labelAlign:"left",value:ah}).render(ce);var cb=A.requiredField.get(b9);cb.set(C,A.get(ah));cb.on({change:bI.bind(A._onSettingsFieldChange,A)});A.propertiesPanel=new bI.Panel({bodyContent:ce,collapsible:true,title:"Properties"}).render();A.fieldSettingsNode.append(A.propertiesPanel.get(ax));}cd.setContent(A.fieldSettingsNode);},getHTML:function(){},getNode:function(){},_onLabelKeyUp:function(L){var A=this;var cc=L.target;var cb=cc.val();A.set(Z,cb);},_onSettingsFieldChange:function(L){var A=this;var cc=L.target;var cb=cc.val();if(cc.get(N)==bd){cb=cc.get(C);}A.set(cc.get(aq),cb);},_renderSettingsFields:function(cb,L){var A=this;bI.each(cb,function(cd){var ce=new bI.Field(cd).render(L);var cc=ce.get(b9);if(cd.type==bd){cc.set(C,cd.value);}A[cd.name+"Field"]=ce;});},_uiSetAcceptChildren:function(cd){var A=this;var cb=A.get(ax);var cc=A.get(aX);var L=cb.one(bw+bA);if(cd&&!L){cb.append(cc);}else{if(!cd&&L){L.remove();}else{if(cd&&L){A.set(aX,L);}}}},_uiSetLabel:function(cb){var A=this;var L=A.get(X);L.setContent(cb);},_uiSetName:function(cb){var A=this;var L=A.get(bK);L.set(aq,cb);},_uiSetPredefinedValue:function(cb){var A=this;var L=A.get(bK);L.val(cb);},_uiSetShowLabel:function(cb){var A=this;var L=A.get(X);L.toggleClass(U,!cb);},_uiSetUnique:function(cc){var A=this;var L=A.get(ax);var cb=A.get(b3);L.toggleClass(bo,cc);cb.one(bw+aU).toggleClass(U,cc);}}});bI.FormBuilderField=b5;bI.FormBuilder.types["field"]=bI.FormBuilderField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},aT=bI.cached(function(A){return A.substring(0,1).toUpperCase()+A.substring(1);}),ax="boundingBox",bY="button",bW="buttonType",b2="contentBox",a9="container",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",ae="form-builder-button-field",bT="id",p="icon",aJ="input",Z="label",aq="name",b9="node",bN="option",bL="options",aP="portalLayout",a7="predefinedValue",a4="proxy",bx="reset",aW="selected",bB="selectedIndex",bl="submit",O=" ",ac="strings",bb="template",bK="templateNode",bp="text",N="type",m="value",v=bI.getClassName,au=v(a3,aJ),bP=v(a3,aJ,bp),br=v(bc),P=v(bc,b9),bv=v(bn,x),bq='<input id="{id}" class="'+[P,au].join(O)+'" name="{name}" type="{type}" value="{value}" />',ca=[bl,bx,bY];
var R=bI.Component.create({NAME:ae,ATTRS:{acceptChildren:{value:false,readOnly:true},buttonType:{value:bl,validator:function(A){return bI.Array(ca).indexOf(A.toLowerCase())>-1;}},predefinedValue:{value:aT(bl)},showLabel:{value:false},strings:{value:{button:"Button",reset:"Reset",submit:"Submit"}},template:{valueFn:function(){return bq;}}},UI_ATTRS:[c,a7,Z,aq,bW,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{getHTML:function(){var A=this;var cb=A.get(bb);var cf=A.get(bT);var cd=A.get(Z);var cc=A.get(aq);var L=A.get(bW);var ce=A.get(a7);return bI.substitute(cb,{id:cf,label:cd,name:cc,type:L,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var cf=this;var L=cf.get(aO);var A=L.get(ai);var ce=cf.get(bW);var cg=cf.get(ac);bI.FormBuilderButtonField.superclass.renderSettings.apply(cf,arguments);if(!cf._renderedButtonSettings){cf._renderedButtonSettings=true;var cd=cf.propertiesPanel.get(d);var ci=[];bI.each(ca,function(cj){ci.push({labelText:cg[cj],value:cj});});var ch=new bI.Select({labelText:"Button type",name:bW,options:ci}).render(cd.item(0));var cb=ch.get(b9);cb.on({change:bI.bind(cf._onButtonTypeChange,cf)});var cc=bI.Array(ca).indexOf(ce);cb.all(bN).item(cc).set(aW,true);}},_onButtonTypeChange:function(L){var A=this;var cb=L.target;A.set(bW,cb.get(m));},_uiSetButtonType:function(cb){var A=this;var L=A.get(bK);L.set(N,cb);}}});bI.FormBuilderButtonField=R;bI.FormBuilder.types["button"]=bI.FormBuilderButtonField;var bC=bI.Lang,aE=bC.isArray,a0=bC.isBoolean,bj=bC.isNumber,af=bC.isString,aC="boolean",ax="boundingBox",d="bodyContent",bd="checkbox",C="checked",ao="choice",b2="contentBox",a9="container",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",bZ="form-builder-checkbox-field",bT="id",p="icon",aK="inline",Z="label",g="labels",aq="name",b9="node",aP="portalLayout",a7="predefinedValue",a4="proxy",am="size",O=" ",bb="template",bK="templateNode",m="value",v=bI.getClassName,b=v(a3),by=v(a3,bd),bF=v(a3,ao),br=v(bc),b0=v(bc,bd),P=v(bc,b9),bv=v(bn,x),aa=v(a3,g,aK),bG='<li class="'+[bS,a1,br,b0].join(O)+'"></li>',aB='<input id="{id}" class="'+[P,b,by,bF].join(O)+'" name="{name}" type="checkbox" value="{value}" {checked} />';var S=bI.Component.create({NAME:bZ,ATTRS:{dataType:{value:aC},predefinedValue:{setter:bI.DataType.Boolean.parse,value:false},template:{valueFn:function(){return aB;}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{BOUNDING_TEMPLATE:bG,bindUI:function(){var A=this;bI.FormBuilderCheckBoxField.superclass.bindUI.apply(A,arguments);var L=A.get(bK);L.on({"change":bI.bind(A._onValueChange,A)});},renderUI:function(){var A=this;var L=A.get(b2);var cb=A.get(bK);var cc=A.get(X);bI.FormBuilderCheckBoxField.superclass.renderUI.apply(A,arguments);cc.insert(cb,cc,"before");},getHTML:function(){var A=this;var L=A.get(bb);var cd=A.get(C);var cf=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var ce=A.get(a7);return bI.substitute(L,{checked:cd?'checked="checked"':bm,id:cf,label:cc,name:cb,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var L=this;var cc=L.get(aO);var cd=cc.get(ai);bI.FormBuilderCheckBoxField.superclass.renderSettings.apply(L,arguments);if(!L._renderedCheckboxSettings){L._renderedCheckboxSettings=true;L.predefinedValueField.destroy();var A=L.propertiesPanel.get(d);var cb=new bI.Field({type:"checkbox",name:a7,labelText:"Checked",labelAlign:"left"}).render(A.item(0));L.checkedFieldNode=cb.get(b9);L.checkedFieldNode.on({change:bI.bind(L._onValueChange,L)});L.checkedFieldNode.set(C,L.get(a7));}},_onValueChange:function(L){var A=this;var cb=L.target;A.set(a7,cb.get(C));},_uiSetPredefinedValue:function(cc){var A=this;var cb=A.get(bK);var L=A.checkedFieldNode;if(L){L.set(C,cc);}cb.set(C,cc);}}});bI.FormBuilderCheckBoxField=S;bI.FormBuilder.types["checkbox"]=bI.FormBuilderCheckBoxField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},ax="boundingBox",b2="contentBox",a9="container",bw=".",ap="drop",bm="",a3="field",f="fields",bc="form-builder-field",z="form-builder-fieldset-field",bT="id",p="icon",Z="label",aq="name",b9="node",a7="predefinedValue",O=" ",bb="template",bK="templateNode",bp="text",m="value",bz="zone",v=bI.getClassName,br=v(bc),P=v(bc,b9),bA=v(q,bQ,ap,bz),a6='<fieldset id="{id}" class="'+[P].join(O)+'"></fieldset>',j='<legend class="'+ba+'"></legend>';var t=bI.Component.create({NAME:z,ATTRS:{acceptChildren:{value:true,readOnly:true},dataType:{value:undefined},template:{valueFn:function(){return a6;}},labelNode:{valueFn:function(){return bI.Node.create(j);}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,Z,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{CONTENT_TEMPLATE:a6,renderUI:function(){var A=this;var cd=A.get(ax);var ce=A.get(b3);var L=A.get(b2);var cc=A.get(X);var cb=A.get(bK);if(!cd.contains(ce)){cd.prepend(ce);}if(!L.contains(cc)){L.append(cc);}},getHTML:function(){var A=this;var L=A.get(bb);var cb=A.get(bT);return bI.substitute(L,{id:cb});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var A=this;var cb=A.get(aO);var cc=cb.get(ai);if(!A._renderedFieldsetSettings){A._renderedFieldsetSettings=true;A.fieldSettingsNode=bI.Node.create(bV);var cd=bI.Node.create(bV);A.labelField=new bI.Field({type:"text",name:Z,labelText:"Label",value:A.get(Z)}).render(cd);A.labelField.get(b9).on({keyup:bI.bind(A._onLabelKeyUp,A)});A.showLabelField=new bI.Field({type:"checkbox",name:bM,labelText:"Show label",labelAlign:"left",value:A.get(bM)}).render(cd);var L=A.showLabelField.get(b9);L.set(C,A.get(bM));L.on({change:bI.bind(A._onSettingsFieldChange,A)});
A.propertiesPanel=new bI.Panel({bodyContent:cd,collapsible:true,title:"Properties"}).render();A.fieldSettingsNode.append(A.propertiesPanel.get(ax));}cc.setContent(A.fieldSettingsNode);},_uiSetAcceptChildren:function(cd){var A=this;var L=A.get(b2);var cc=A.get(aX);var cb=L.one(bw+bA);if(cd&&!cb){L.append(cc);}else{if(!cd&&cb){cb.remove();}else{if(cd&&cb){A.set(aX,cb);}}}}}});bI.FormBuilderFieldsetField=t;bI.FormBuilder.types["fieldset"]=bI.FormBuilderFieldsetField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},ax="boundingBox",b2="contentBox",a9="container",bw=".",bm="",a3="field",f="fields",bc="form-builder-field",b1="form-builder-file-upload-field",bT="id",p="icon",Z="label",aq="name",b9="node",a7="predefinedValue",O=" ",bb="template",bK="templateNode",bp="text",m="value",v=bI.getClassName,br=v(bc),P=v(bc,b9),bv=v(bn,x),bk='<input id="{id}" class="'+[P].join(O)+'" name="{name}" type="file" value="{value}" />';var D=bI.Component.create({NAME:b1,ATTRS:{template:{valueFn:function(){return bk;}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{getHTML:function(){var A=this;var L=A.get(bb);var cf=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var cd=A.get(am);var ce=A.get(a7);return bI.substitute(L,{id:cf,label:cc,name:cb,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var A=this;var cb=A.get(aO);var cc=cb.get(ai);if(!A._renderedFileUploadSettings){A._renderedFileUploadSettings=true;A.fieldSettingsNode=bI.Node.create(bV);var cd=bI.Node.create(bV);A.labelField=new bI.Field({type:"text",name:Z,labelText:"Label",value:A.get(Z)}).render(cd);A.labelField.get(b9).on({keyup:bI.bind(A._onLabelKeyUp,A)});A.showLabelField=new bI.Field({type:"checkbox",name:bM,labelText:"Show label",labelAlign:"left",value:A.get(bM)}).render(cd);var L=A.showLabelField.get(b9);L.set(C,A.get(bM));L.on({change:bI.bind(A._onSettingsFieldChange,A)});A._renderSettingsFields([{type:"text",name:aq,labelText:"Name",value:A.get(aq)},{type:"checkbox",name:ah,labelText:"Required",labelAlign:"left",value:A.get(ah)}],cd);A.propertiesPanel=new bI.Panel({bodyContent:cd,collapsible:true,title:"Properties"}).render();A.fieldSettingsNode.append(A.propertiesPanel.get(ax));}cc.setContent(A.fieldSettingsNode);}}});bI.FormBuilderFileUploadField=D;bI.FormBuilder.types["fileupload"]=bI.FormBuilderFileUploadField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},aT=bI.cached(function(A){return A.substring(0,1).toUpperCase()+A.substring(1);}),H="add",ad="addNode",ax="boundingBox",bY="button",bW="buttonType",b2="contentBox",a9="container",x="default",aj="defaultLabel",r="defaultOptions",y="defaultValue",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",E="form-builder-multiple-choice-field",p="icon",bT="id",aJ="input",Y="item",Z="label",bX="multiple",aq="name",b9="node",bN="option",bi="optionTemplate",bL="options",a7="predefinedValue",a4="proxy",o="remove",bx="reset",bl="submit",O=" ",bb="template",bK="templateNode",bp="text",N="type",m="value",v=bI.getClassName,au=v(a3,aJ),bP=v(a3,aJ,bp),k=v(a3,bL,H),K=v(a3,bL,Y),J=v(a3,bL,Y,aJ),a5=v(a3,bL,Y,aJ,Z),bJ=v(a3,bL,Y,aJ,m),aS=v(a3,bL,Y,o),br=v(bc),P=v(bc,b9),bv=v(bn,x),bu='<div class="'+[K,aa,b6].join(O)+'">'+'<input type="text" class="'+[J,a5,au,bP].join(O)+'" value="{label}" />'+'<input type="text" class="'+[J,bJ,au,bP].join(O)+'" value="{value}" />'+'<a href="javascript:;" class="'+aS+'">&nbsp;</a>'+"</div>";TPL_ADD='<a class="'+k+'" href="javascript:;">Add an option</a>',ENTER="ENTER";var aF=bI.Component.create({NAME:bL,ATTRS:{allowClear:{value:false},defaultLabel:{value:bm},defaultValue:{value:bm},options:{value:[],getter:"_getOptions",validator:aE},addNode:{valueFn:function(){return bI.Node.create(TPL_ADD);}}},HTML_PARSER:{addNode:bw+k},UI_ATTRS:[bL],EXTENDS:bI.Widget,prototype:{renderUI:function(){var A=this;var L=A.get(ax);var cb=A.get(ad);if(!cb.inDoc()){L.append(cb);}},bindUI:function(){var A=this;var L=A.get(ax);var cb=A.get(ad);cb.on("click",bI.bind(A._onClickAdd,A));L.delegate("click",bI.bind(A._onClickOptionRemove,A),bw+aS);L.delegate("keypress",bI.bind(A._onKeyPressOption,A),bw+J);},add:function(L){var A=this;var cb=A.get(bL);cb.push(L);A.set(bL,cb);},clear:function(){var A=this;if(A.get(ALLOW_CLEAR)){A.set(bL,[]);}},remove:function(cb){var A=this;var L=A.get(b2);var cc=A._getOptionNode(cb);if(cc){cc.remove();}A.items=L.all(bw+K);},_addNewOption:function(){var L=this;var cb=L.get(b2);var cc=L._createOption({label:L.get(aj),value:L.get(y)});cc=bI.Node.create(cc);cb.append(cc);var A=cc.one(aJ);A.focus();A.select();L.items=cb.all(bw+K);return cc;},_createOption:function(L){var A=this;return bI.substitute(bu,L);},_getOptionNode:function(L){var A=this;return A.items.item(L);},_getOptions:function(cb){var A=this;var L=[];if(A.items){bI.each(A.items,function(cc){var ce=cc.one(bw+a5);var cd=cc.one(bw+bJ);L.push({label:ce.val(),value:cd.val()});});}else{L=cb;}return L;},_indexOfTarget:function(cb){var A=this;var L=cb.ancestor(bw+K);return A.items.indexOf(L);},_onClickAdd:function(L){var A=this;A._addNewOption();},_onClickOptionRemove:function(cc){var A=this;var cb=A.get(bL);var L=A._indexOfTarget(cc.target);A.remove(L);},_onKeyPressOption:function(cd){var A=this;var cc=A.get(bL);var cf=cd.currentTarget;var L=A.items;if(cd.isKey(ENTER)){var cb=A._indexOfTarget(cf);var ce=cf.hasClass(bJ);if((cb==L.size()-1)&&ce){A._addNewOption();}}},_uiSetOptions:function(cc){var A=this;var cb=[];var L=A.get(b2);L.empty();bI.each(cc,function(cd){L.append(A._createOption(cd));});A.items=L.all(bw+K);}}});var e=bI.Component.create({NAME:E,ATTRS:{acceptChildren:{value:false,readOnly:true},options:{value:[{label:"option 1",value:"value 1"},{label:"option 2",value:"value 2"},{label:"option 3",value:"value 3"}]},optionTemplate:{value:'<option value="{value}">{label}</option>'}},UI_ATTRS:[c,a7,Z,aq,bL,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{initializer:function(){var A=this;
bI.FormBuilderMultipleChoiceField.superclass.initializer.apply(A,arguments);},getNode:function(){var A=this;return bI.FormBuilderMultipleChoiceField.superclass.getNode.apply(A,arguments);},renderSettings:function(){var A=this;bI.FormBuilderMultipleChoiceField.superclass.renderSettings.apply(A,arguments);if(!A._renderedMultipleChoiceSettings){A._renderedMultipleChoiceSettings=true;var L=bI.Node.create(bV);A.optionsPanel=new bI.Panel({bodyContent:L,collapsible:true,title:"Options"}).render();A.options=new aF({options:A.get(bL)}).render(L);A.fieldSettingsNode.append(A.optionsPanel.get(ax));}},saveSettings:function(){var A=this;bI.FormBuilderMultipleChoiceField.superclass.saveSettings.apply(A,arguments);A.set(bL,A.options.get(bL));},_uiSetOptions:function(cb){var A=this;var L=A.get(bK);L.empty();bI.each(cb,function(cc){L.append(bI.substitute(A.get(bi),cc));});}}});bI.FormBuilderMultipleChoiceField=e;bI.FormBuilder.types["multiple-choice"]=bI.FormBuilderMultipleChoiceField;var bC=bI.Lang,aE=bC.isArray,a0=bC.isBoolean,bj=bC.isNumber,af=bC.isString,ax="boundingBox",d="bodyContent",C="checked",ao="choice",b2="contentBox",a9="container",bw=".",bm="",a3="field",f="fields",bc="form-builder-field",aR="form-builder-radio-field",bT="id",p="icon",aK="inline",Z="label",g="labels",aq="name",b9="node",bR="optionsContainerNode",a7="predefinedValue",I="radio",am="size",O=" ",bb="template",bK="templateNode",m="value",v=bI.getClassName,b=v(a3),bF=v(a3,ao),br=v(bc),aw=v(bc,I),P=v(bc,b9),M=v(bc,bL,a9),bv=v(bn,x),aa=v(a3,g,aK),bG='<li class="'+[bS,a1,br,aw].join(O)+'"></li>',Q='<div class="'+M+'"></div>',aD='<input id="{id}" class="'+[P,b,bF].join(O)+'" name="{name}" type="radio" value="{value}" {checked} />';var h=bI.Component.create({NAME:aR,ATTRS:{name:{value:I},optionTemplate:{value:aD},template:{valueFn:function(){return aD;}},optionsContainerNode:{valueFn:function(){return bI.Node.create(Q);}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bM,bL],CSS_PREFIX:br,HTML_PARSER:{optionsContainerNode:bw+M,templateNode:bw+P},EXTENDS:bI.FormBuilderMultipleChoiceField,prototype:{BOUNDING_TEMPLATE:bG,renderUI:function(){var A=this;var cc=A.get(ax);var ce=A.get(b3);var L=A.get(b2);var cb=A.get(X);if(!cc.contains(ce)){cc.prepend(ce);}if(!L.contains(cb)){L.append(cb);}var cd=A.get(bR);if(!L.contains(cd)){L.append(cd);}},getHTML:function(){var A=this;var L=A.get(bb);var cd=A.get(C);var cf=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var ce=A.get(a7);return bI.substitute(L,{checked:cd?'checked="checked"':bm,id:cf,label:cc,name:cb,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},_onFieldChange:function(L){var A=this;var cb=L.target;A.set(a7,cb.val());},_uiSetOptions:function(cd){var A=this;var L=A.get(b2);var cc=A.get(bR);var cb=A.get(bK);cc.empty();bI.each(cd,function(cg){var ce=new bI.Field({type:I,name:A.get(aq),labelText:cg.label,labelAlign:"left",value:cg.value}).render(cc);var cf=ce.get(b9);if(cg.value==A.get(a7)){cf.set(C,true);}cf.on({change:bI.bind(A._onFieldChange,A)});});},_uiSetPredefinedValue:function(cd){var A=this;var L=A.get(aO);var cb=L.get(ai);var cc=cb.one("input[name=predefinedValue]");if(cc){cc.val(cd);}}}});bI.FormBuilderRadioField=h;bI.FormBuilder.types["radio"]=bI.FormBuilderRadioField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},aT=bI.cached(function(A){return A.substring(0,1).toUpperCase()+A.substring(1);}),ax="boundingBox",bY="button",bW="buttonType",b2="contentBox",a9="container",r="defaultOptions",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",bH="form-builder-select-field",bT="id",p="icon",aJ="input",Z="label",bX="multiple",aq="name",b9="node",bN="option",bL="options",aP="portalLayout",a7="predefinedValue",a4="proxy",bx="reset",bB="selectedIndex",bl="submit",O=" ",bb="template",bK="templateNode",bp="text",N="type",m="value",v=bI.getClassName,au=v(a3,aJ),bP=v(a3,aJ,bp),br=v(bc),P=v(bc,b9),bv=v(bn,x),an='<select id="{id}" class="'+[P].join(O)+'" name="{name}" value="{value}"></select>';var W=bI.Component.create({NAME:bH,ATTRS:{multiple:{setter:bI.DataType.Boolean.parse,value:false},template:{valueFn:function(){return an;}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bL,bM,bX],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderMultipleChoiceField,prototype:{getHTML:function(){var A=this;var L=A.get(bb);var ce=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var cd=A.get(a7);return bI.substitute(L,{id:ce,label:cc,name:cb,value:cd});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var L=this;var cd=L.get(aO);var ce=cd.get(ai);bI.FormBuilderSelectField.superclass.renderSettings.apply(L,arguments);if(!L._renderedSelectSettings){L._renderedSelectSettings=true;var A=L.propertiesPanel.get(d);var cb=new bI.Field({type:"checkbox",name:bX,labelText:"Multiple",labelAlign:"left"}).render(A.item(0));var cc=cb.get(b9);cc.on({change:bI.bind(L._onSettingsFieldChange,L)});cc.set(C,L.get(bX));}},_uiSetMultiple:function(cb){var A=this;var L=A.get(bK);if(cb){L.setAttribute(bX,bX);}else{L.removeAttribute(bX);}}}});bI.FormBuilderSelectField=W;bI.FormBuilder.types["select"]=bI.FormBuilderSelectField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,at=function(A){return(A instanceof bI.Node);},aN=function(A){return(A instanceof bI.NodeList);},ax="boundingBox",b2="contentBox",a9="container",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",aL="form-builder-input-field",bT="id",p="icon",aJ="input",Z="label",aq="name",b9="node",aP="portalLayout",a7="predefinedValue",a4="proxy",O=" ",bb="template",bK="templateNode",bp="text",m="value",v=bI.getClassName,au=v(a3,aJ),bP=v(a3,aJ,bp),br=v(bc),P=v(bc,b9),bv=v(bn,x),bq='<input id="{id}" class="'+[P,au,bP].join(O)+'" name="{name}" type="text" value="{value}" />';
var ar=bI.Component.create({NAME:aL,ATTRS:{template:{valueFn:function(){return bq;}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{bindUI:function(){var A=this;bI.FormBuilderTextField.superclass.bindUI.apply(A,arguments);var L=A.get(bK);L.on({"keyup":bI.bind(A._onValueKeyUp,A)});},getHTML:function(){var A=this;var L=A.get(bb);var cf=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var cd=A.get(am);var ce=A.get(a7);return bI.substitute(L,{id:cf,label:cc,name:cb,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var A=this;var L=A.get(aO);var cb=L.get(ai);bI.FormBuilderTextField.superclass.renderSettings.apply(A,arguments);if(!A._renderedInputSettings){A._renderedInputSettings=true;var cc=cb.one("input[name=predefinedValue]");cc.on({"keyup":bI.bind(A._onValueKeyUp,A)});}},_onValueKeyUp:function(L){var A=this;var cb=L.target;A.set(a7,cb.val());},_uiSetPredefinedValue:function(ce){var A=this;var cb=A.get(aO);var cc=cb.get(ai);var cd=cc.one("input[name=predefinedValue]");var L=A.get(bK);L.val(ce);if(cd&&A.get(aW)){cd.val(ce);}}}});bI.FormBuilderTextField=ar;bI.FormBuilder.types["text"]=bI.FormBuilderTextField;var bC=bI.Lang,aE=bC.isArray,bj=bC.isNumber,af=bC.isString,ax="boundingBox",b2="contentBox",a9="container",bw=".",aQ="drag",bh="dragContainer",b4="dragContainerNode",ab="dragNodesList",ap="drop",aI="dropContainer",a2="dropContainerNode",bm="",a3="field",f="fields",bc="form-builder-field",u="form-builder-textarea-field",bT="id",p="icon",Z="label",aq="name",b9="node",aP="portalLayout",a7="predefinedValue",a4="proxy",am="size",O=" ",bb="template",bK="templateNode",bp="text",bt="textarea",m="value",v=bI.getClassName,b=v(a3),a8=v(a3,bp),bO=v(a3,bt),br=v(bc),P=v(bc,b9),bv=v(bn,x),bD='<textarea id="{id}" class="'+[P,b,a8,bO].join(O)+'" name="{name}">{value}</textarea>';var av=bI.Component.create({NAME:u,ATTRS:{template:{valueFn:function(){return bD;}},templateNode:{valueFn:"getNode"}},UI_ATTRS:[c,a7,Z,aq,bM],CSS_PREFIX:br,HTML_PARSER:{templateNode:bw+P},EXTENDS:bI.FormBuilderField,prototype:{bindUI:function(){var A=this;bI.FormBuilderTextAreaField.superclass.bindUI.apply(A,arguments);var L=A.get(bK);L.on({"keyup":bI.bind(A._onValueKeyUp,A)});},getHTML:function(){var A=this;var L=A.get(bb);var cf=A.get(bT);var cc=A.get(Z);var cb=A.get(aq);var cd=A.get(am);var ce=A.get(a7);return bI.substitute(L,{id:cf,label:cc,name:cb,value:ce});},getNode:function(){var A=this;return bI.Node.create(A.getHTML());},renderSettings:function(){var A=this;var L=A.get(aO);var cb=L.get(ai);bI.FormBuilderTextAreaField.superclass.renderSettings.apply(A,arguments);if(!A._renderedTextareaSettings){A._renderedTextareaSettings=true;var cc=cb.one("input[name=predefinedValue]");cc.on({"keyup":bI.bind(A._onValueKeyUp,A)});}},_onValueKeyUp:function(L){var A=this;var cb=L.target;A.set(a7,cb.val());},_uiSetPredefinedValue:function(ce){var A=this;var cb=A.get(aO);var cc=cb.get(ai);var cd=cc.one("input[name=predefinedValue]");var L=A.get(bK);L.val(ce);if(cd&&A.get(aW)){cd.val(ce);}}}});bI.FormBuilderTextAreaField=av;bI.FormBuilder.types["textarea"]=bI.FormBuilderTextAreaField;},"@VERSION@",{requires:["aui-datatype","aui-form","aui-panel","io","substitute"],skinnable:true});