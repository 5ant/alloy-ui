AUI.add("aui-form-field",function(S){var F=S.Lang,E=S.ClassNameManager.getClassName,Y="clearfix",H="field",C="helper",L=" ",W=S.cached(function(c,A){var d=["field"];if(A){d.push(A);}d=d.join("-");var b=[E(d,c)];if(c=="password"){b.push(E(d,"text"));}return b.join(" ");}),B=E(H),P=E(H,"content"),G=E(H,"input"),Q=E(H,"hint"),K=E(H,"invalid"),M=E(H,"label"),T=E(C,Y),O=E(H,"labels"),a=E(H,"labels","inline"),V={left:[O,"left"].join("-"),right:[O,"right"].join("-"),top:[O,"top"].join("-")},D=/left|right/,U='<span class="'+[B,T].join(L)+'"></span>',Z='<span class="'+P+'"></span>',J='<span class="'+Q+'"></span>',R='<input autocomplete="off" class="{cssClass}" id="{id}" name="{name}" type="{type}" />',N='<label class="'+M+'"></label>',X={};var I=S.Component.create({NAME:H,ATTRS:{readOnly:{value:false},name:{value:"",getter:function(b){var A=this;return b||A.get("id");}},id:{getter:function(c){var A=this;var b=this.get("node");if(b){c=b.get("id");}if(!c){c=S.guid();}return c;}},type:{value:"text",validator:F.isString,writeOnce:true},labelAlign:{value:""},labelNode:{valueFn:function(){var A=this;return S.Node.create(N);}},labelText:{valueFn:function(){var A=this;return A.get("labelNode").get("innerHTML");},setter:function(b){var A=this;A.get("labelNode").set("innerHTML",b);return b;}},node:{value:null,setter:function(b){var A=this;return S.one(b)||A._createFieldNode();}},fieldHint:{value:""},fieldHintNode:{value:null,setter:function(b){var A=this;return S.one(b)||A._createFieldHint();}},prevVal:{value:""},valid:{value:true,getter:function(d){var A=this;var b=A.get("validator");var c=A.get("disabled")||b(A.get("value"));return c;}},dirty:{value:false,getter:function(c){var A=this;if(A.get("disabled")){c=false;}else{var b=String(A.get("value"));var d=String(A.get("prevVal"));c=(b!==d);}return c;}},size:{},validator:{valueFn:function(){var A=this;return A.fieldValidator;},validator:F.isFunction},value:{getter:"_getNodeValue",setter:"_setNodeValue",validator:"fieldValidator"}},HTML_PARSER:{labelNode:"label",node:"input, textarea, select"},BIND_UI_ATTRS:["id","readOnly","name","size","tabIndex","type","value"],getTypeClassName:W,getField:function(d){var e=null;if(d instanceof S.Field){e=d;}else{if(d&&(F.isString(d)||d instanceof S.Node||d.nodeName)){var c=S.one(d).get("id");e=X[c];if(!e){var b=d.ancestor(".aui-field");var A=d.ancestor(".aui-field-content");e=new I({boundingBox:b,contentBox:A,node:d});}}else{if(F.isObject(d)){e=new I(d);}}}return e;},prototype:{BOUNDING_TEMPLATE:U,CONTENT_TEMPLATE:Z,FIELD_TEMPLATE:R,FIELD_TYPE:"text",initializer:function(){var A=this;var b=A.get("node").guid();X[b]=A;},renderUI:function(){var A=this;A._renderField();A._renderLabel();A._renderFieldHint();},bindUI:function(){var A=this;A.after("labelAlignChange",A._afterLabelAlignChange);A.after("fieldHintChange",A._afterFieldHintChange);},syncUI:function(){var A=this;A.set("prevVal",A.get("value"));},fieldValidator:function(b){var A=this;return true;},isValid:function(){var A=this;return A.get("valid");},isDirty:function(){var A=this;return A.get("dirty");},resetValue:function(){var A=this;A.set("value",A.get("prevVal"));A.clearInvalid();},markInvalid:function(b){var A=this;A.set("fieldHint",b);A.get("fieldHintNode").show();A.get("boundingBox").addClass(K);},clearInvalid:function(){var A=this;A.reset("fieldHint");if(!A.get("fieldHint")){A.get("fieldHintNode").hide();}A.get("boundingBox").removeClass(K);},validate:function(){var A=this;var b=A.get("valid");if(b){A.clearInvalid();}return b;},_afterFieldHintChange:function(b){var A=this;A._uiSetFieldHint(b.newVal,b.prevVal);},_afterLabelAlignChange:function(b){var A=this;A._uiSetLabelAlign(b.newVal,b.prevVal);},_createFieldHint:function(){var A=this;var b=S.Node.create(J);A.get("contentBox").append(b);return b;},_createFieldNode:function(){var b=this;var A=b.FIELD_TEMPLATE;b.FIELD_TEMPLATE=S.substitute(A,{cssClass:G,id:b.get("id"),name:b.get("name"),type:b.get("type")});return S.Node.create(b.FIELD_TEMPLATE);},_getNodeValue:function(){var A=this;return A.get("node").val();},_renderField:function(){var A=this;var e=A.get("node");e.val(A.get("value"));var c=A.get("boundingBox");var b=A.get("contentBox");var d=A.get("type");c.addClass(W(d));e.addClass(W(d,"input"));if(!b.contains(e)){if(e.inDoc()){e.placeBefore(c);b.appendChild(e);}else{b.appendChild(e);}}c.removeAttribute("tabIndex");},_renderFieldHint:function(){var A=this;var b=A.get("fieldHint");if(b){A._uiSetFieldHint(b);}},_renderLabel:function(){var i=this;var d=i.get("labelText");if(d!==false){var c=i.get("node");var b=c.guid();d=i.get("labelText");var A=i.get("labelNode");A.addClass(E(i.name,"label"));A.setAttribute("for",b);A.set("innerHTML",d);i._uiSetLabelAlign(i.get("labelAlign"));var f=i.get("contentBox");var e=i.get("labelAlign");var g=i.get("type").toLowerCase();var h=D.test(e);if(h&&((g=="checkbox")||(g=="radio"))){f.append(A);}else{f.prepend(A);}}},_setNodeValue:function(b){var A=this;A._uiSetValue(b);return b;},_uiSetFieldHint:function(b,c){var A=this;A.get("fieldHintNode").set("innerHTML",b);},_uiSetId:function(b,c){var A=this;A.get("node").set("id",b);},_uiSetLabelAlign:function(d,e){var b=this;var c=b.get("boundingBox");c.replaceClass(V[e],V[d]);var A="removeClass";if(D.test(d)){A="addClass";}c[A](a);},_uiSetName:function(b,c){var A=this;A.get("node").setAttribute("name",b);},_uiSetReadOnly:function(b,c){var A=this;A.get("node").setAttribute("readOnly",b);},_uiSetSize:function(b,c){var A=this;A.get("node").setAttribute("size",b);},_uiSetTabIndex:function(b,c){var A=this;A.get("node").setAttribute("tabIndex",b);},_uiSetValue:function(b,c){var A=this;A.get("node").val(b);},_requireAddAttr:false}});S.Field=I;},"@VERSION@",{requires:["aui-base","aui-component","substitute"]});