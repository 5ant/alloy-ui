AUI.add("aui-form-field",function(t){var d=t.Lang,c=t.getClassName,i="field",m=" ",w=t.cached(function(D,A){var E=["field"];if(A){E.push(A);}E=E.join("-");var C=[c(E,D)];if(D=="password"){C.push(c(E,"text"));}return C.join(" ");}),a=c(i),f=c(i,"checkbox"),e=c(i,"choice"),q=c(i,"content"),h=c(i,"input"),r=c(i,"hint"),l=c(i,"invalid"),n=c(i,"label"),g=c(i,"radio"),p=c(i,"labels"),z=c(i,"labels","inline"),v={left:[p,"left"].join("-"),right:[p,"right"].join("-"),top:[p,"top"].join("-")},B={radio:g,checkbox:f},b=/left|right/,u='<span class="'+a+'"></span>',y='<span class="'+q+'"></span>',k='<span class="'+r+'"></span>',s='<input autocomplete="off" class="{cssClass}" id="{id}" name="{name}" type="{type}" />',o='<label class="'+n+'"></label>',x={};var j=t.Component.create({NAME:i,ATTRS:{readOnly:{value:false},name:{value:"",getter:function(C){var A=this;return C||A.get("id");}},disabled:{value:false,validator:d.isBoolean},id:{getter:function(D){var A=this;var C=this.get("node");if(C){D=C.get("id");}if(!D){D=t.guid();}return D;}},type:{value:"text",validator:d.isString,writeOnce:true},labelAlign:{valueFn:function(){var A=this;return A._getChoiceCss()?"left":null;}},labelNode:{valueFn:function(){var A=this;return t.Node.create(o);}},labelText:{valueFn:function(){var A=this;return A.get("labelNode").get("innerHTML");},setter:function(C){var A=this;A.get("labelNode").set("innerHTML",C);return C;}},node:{value:null,setter:function(C){var A=this;return t.one(C)||A._createFieldNode();}},fieldHint:{value:""},fieldHintNode:{value:null,setter:function(C){var A=this;return t.one(C)||A._createFieldHint();}},prevVal:{value:""},valid:{value:true,getter:function(E){var A=this;var C=A.get("validator");var D=A.get("disabled")||C(A.get("value"));return D;}},dirty:{value:false,getter:function(D){var A=this;if(A.get("disabled")){D=false;}else{var C=String(A.get("value"));var E=String(A.get("prevVal"));D=(C!==E);}return D;}},size:{},validator:{valueFn:function(){var A=this;return A.fieldValidator;},validator:d.isFunction},value:{getter:"_getNodeValue",setter:"_setNodeValue",validator:"fieldValidator"}},HTML_PARSER:{labelNode:"label",node:"input, textarea, select"},BIND_UI_ATTRS:["disabled","id","readOnly","name","size","tabIndex","type","value"],getTypeClassName:w,getField:function(E){var F=null;if(E instanceof t.Field){F=E;}else{if(E&&(d.isString(E)||E instanceof t.Node||E.nodeName)){var D=t.one(E).get("id");F=x[D];if(!F){var C=E.ancestor(".yui3-aui-field");var A=E.ancestor(".yui3-aui-field-content");F=new j({boundingBox:C,contentBox:A,node:E});}}else{if(d.isObject(E)){F=new j(E);}}}return F;},prototype:{BOUNDING_TEMPLATE:u,CONTENT_TEMPLATE:y,FIELD_TEMPLATE:s,FIELD_TYPE:"text",initializer:function(){var A=this;var C=A.get("node").guid();x[C]=A;},renderUI:function(){var A=this;A._renderField();A._renderLabel();A._renderFieldHint();},bindUI:function(){var A=this;A.after("labelAlignChange",A._afterLabelAlignChange);A.after("fieldHintChange",A._afterFieldHintChange);},syncUI:function(){var A=this;A.set("prevVal",A.get("value"));},fieldValidator:function(C){var A=this;return true;},isValid:function(){var A=this;return A.get("valid");},isDirty:function(){var A=this;return A.get("dirty");},resetValue:function(){var A=this;A.set("value",A.get("prevVal"));A.clearInvalid();},markInvalid:function(C){var A=this;A.set("fieldHint",C);A.get("fieldHintNode").show();A.get("boundingBox").addClass(l);},clearInvalid:function(){var A=this;A.reset("fieldHint");if(!A.get("fieldHint")){A.get("fieldHintNode").hide();}A.get("boundingBox").removeClass(l);},validate:function(){var A=this;var C=A.get("valid");if(C){A.clearInvalid();}return C;},_afterFieldHintChange:function(C){var A=this;A._uiSetFieldHint(C.newVal,C.prevVal);},_afterLabelAlignChange:function(C){var A=this;A._uiSetLabelAlign(C.newVal,C.prevVal);},_createFieldHint:function(){var A=this;var C=t.Node.create(k);A.get("contentBox").append(C);return C;},_createFieldNode:function(){var C=this;var A=C.FIELD_TEMPLATE;C.FIELD_TEMPLATE=t.substitute(A,{cssClass:h,id:C.get("id"),name:C.get("name"),type:C.get("type")});return t.Node.create(C.FIELD_TEMPLATE);},_getChoiceCss:function(){var A=this;var C=A.get("type");return B[C];},_getNodeValue:function(){var A=this;return A.get("node").val();},_renderField:function(){var A=this;var G=A.get("node");G.val(A.get("value"));var D=A.get("boundingBox");var C=A.get("contentBox");var E=A.get("type");var F=[w(E)];var H=A._getChoiceCss();if(H){F.push(e);F.push(H);}D.addClass(F.join(m));G.addClass(w(E,"input"));if(!C.contains(G)){if(G.inDoc()){G.placeBefore(D);C.appendChild(G);}else{C.appendChild(G);}}D.removeAttribute("tabIndex");},_renderFieldHint:function(){var A=this;var C=A.get("fieldHint");if(C){A._uiSetFieldHint(C);}},_renderLabel:function(){var K=this;var F=K.get("labelText");if(F!==false){var D=K.get("node");var C=D.guid();F=K.get("labelText");var A=K.get("labelNode");A.addClass(c(K.name,"label"));A.setAttribute("for",C);A.set("innerHTML",F);K._uiSetLabelAlign(K.get("labelAlign"));var H=K.get("contentBox");var G=K.get("labelAlign");var I=K.get("type").toLowerCase();var J=b.test(G);var E="prepend";if(J&&K._getChoiceCss()){E="append";}H[E](A);}},_setNodeValue:function(C){var A=this;A._uiSetValue(C);return C;},_uiSetDisabled:function(D){var A=this;var C=A.get("node");if(D){C.setAttribute("disabled",D);}else{C.removeAttribute("disabled");}},_uiSetFieldHint:function(C,D){var A=this;A.get("fieldHintNode").set("innerHTML",C);},_uiSetId:function(C,D){var A=this;A.get("node").set("id",C);},_uiSetLabelAlign:function(E,F){var C=this;var D=C.get("boundingBox");D.replaceClass(v[F],v[E]);var A="removeClass";if(b.test(E)){A="addClass";}D[A](z);},_uiSetName:function(C,D){var A=this;A.get("node").setAttribute("name",C);},_uiSetReadOnly:function(C,D){var A=this;A.get("node").setAttribute("readOnly",C);},_uiSetSize:function(C,D){var A=this;A.get("node").setAttribute("size",C);},_uiSetTabIndex:function(C,D){var A=this;A.get("node").setAttribute("tabIndex",C);},_uiSetValue:function(C,D){var A=this;
A.get("node").val(C);},_requireAddAttr:false}});t.Field=j;},"@VERSION@",{requires:["aui-base","aui-component","substitute"]});