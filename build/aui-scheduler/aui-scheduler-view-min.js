AUI.add("aui-scheduler-view",function(B2){var CJ=B2.Lang,Ca=CJ.isObject,Br=CJ.isString,At=CJ.isBoolean,Af=CJ.isNumber,BD=function(A){return A==0?0:(A<0?-1:1);},Aj=function(A,AM){return Math.max(Math.abs(A),AM)*BD(A);},Be=function(A){return parseFloat(A)||0;},Bg=function(AM,A){return Math.round(AM/A)*A;},AQ=B2.DataType.DateMath,By=B2.WidgetStdMod,Ak=AQ.WEEK_LENGTH,Bi="scheduler-view",Ae="scheduler-view-day",B6="scheduler-view-week",CT="scheduler-view-month",Bd="activeView",A5="am",V="borderLeftWidth",CA="borderRightWidth",Ap="boundingBox",R="children",BV="childNodes",AF="col",h="colblank",Z="coldata",Ah="colday",B="colgrid",BQ="colmonth",v="colspan",N="coltime",CO="columnNode",AW="colDaysNode",B4="colHeaderDaysNode",An="container",Al="content",CQ="contentBox",AU="createDocumentFragment",BA="currentDate",BW="data",A9="dateFormat",CG="day",t="days",w="div",BI="division",AA="down",B8="dragNode",Bq="duration",AZ="endDate",A1="event",Bw="events",Cc="eventRecorder",T="eventWidth",Ag="first",B7="firstDayOfWeek",A7="grid",Cb="hd",B0="header",A8="headerDateFormat",CX="headerTableNode",Bl="height",Ao="host",Ad="hourHeight",W="icon",AJ="isoTime",BE="labelAM",Ab="labelPM",Aq="left",AX="locale",AB="marker",A3="markercell",Aw="markercellsNode",Bj="markercellNode",k="markers",Bb="month",A6="monthContainerNode",BZ="navigationDateFormat",Am="next",Bh="nextDate",Cd="node",AI="nomonth",AR="noscroll",Bz="offsetHeight",j="offsetTop",B1="offsetWidth",CE="ownerDocument",B3="pad",CL="parentEvent",q="parentNode",AN="pm",z="prevDate",BP="proxy",AG="px",Ar="rendered",Bx="repeated",Ax="right",BN="row",S="scheduler",Ac="scheduler-event",x="scrollable",s="shim",B5="startDate",As="table",CR="tableColNode",K="tableDataNode",d="tableGridNode",BT="tableNode",Bs="tableTimeNode",BR="tbody",F="td",BK="time",AH="timesNode",H="title",AK="today",BO="top",CY="tr",a="trigger",CM="week",BX="width",Bf="-",L="a",Bk=".",Bc="",BY="%",u=" ",e=B2.ClassNameManager.getClassName,BJ=e(Bi,AR),AC=e(Bi,x);var Av=B2.Component.create({NAME:Bi,ATTRS:{bodyContent:{value:Bc},height:{value:600},isoTime:{value:false,validator:At},name:{value:Bc,validator:Br},navigationDateFormat:{value:"%A - %d %b %Y",validator:Br},nextDate:{getter:"getNextDate",readOnly:true},prevDate:{getter:"getPrevDate",readOnly:true},scheduler:{lazyAdd:false,setter:"_setScheduler"},scrollable:{value:true,validator:At},triggerNode:{setter:B2.one},visible:{value:false}},BIND_UI_ATTRS:[x],prototype:{initializer:function(){var A=this;A.after("render",A._afterRender);},syncUI:function(){var A=this;A.syncStdContent();},adjustCurrentDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);Ce.set(BA,AM);},flushViewCache:function(){},getNextDate:function(){},getPrevDate:function(){},getToday:function(){return AQ.clearTime(new Date());},limitDate:function(AM,Ce){var A=this;if(AQ.after(AM,Ce)){AM=AQ.clone(Ce);}return AM;},plotEvents:function(A){},syncStdContent:function(){},syncEventUI:function(A){},_uiSetCurrentDate:function(A){},_afterRender:function(Ce){var A=this;var AM=A.get(S);A.adjustCurrentDate();A._uiSetScrollable(A.get(x));},_setScheduler:function(Ce){var A=this;var AM=A.get(S);if(AM){A.removeTarget(AM);}if(Ce){A.addTarget(Ce);Ce.after("eventsChange",B2.bind(A.flushViewCache,A));}return Ce;},_uiSetScrollable:function(Ce){var A=this;var AM=A.bodyNode;if(AM){AM.toggleClass(AC,Ce);AM.toggleClass(BJ,!Ce);}},_uiSetVisible:function(AM){var A=this;Av.superclass._uiSetVisible.apply(this,arguments);if(AM&&A.get(Ar)){A.adjustCurrentDate();}}}});B2.SchedulerView=B2.Base.create(Bi,Av,[B2.WidgetStdMod]);var n=function(A,AM){return function(Cf){var Ce=Cf.all(A);return(Ce.size()>=AM)?Ce:null;};},Ai=e(Ac),Bn=e(Ac,BP),b=e(Bi,Z),D=e(Bi,B),p=e(S,AK),AP=e(S,AK,Cb),CB=e(Bi,A7),CC=e(Bi,A7,An),CF=e(Bi,A3),l=e(Bi,k),BH=e(Bi,AB,BI),BU=e(Bi,As),CI=e(Bi,CG,B0,As),U=e(Bi,CG,B0,CG),BG=e(Bi,CG,B0,CG,B3,Ax),Bp=e(Bi,CG,B0,CG,Ag),A0=e(Bi,CG,B0,AF),CV=e(Bi,As,AF),Aa=e(Bi,As,AF,s),o=e(Bi,As,h),g=e(Bi,As,Ah),O=e(Bi,As,Ah,B0),CN=e(Bi,As,N),BM=e(Bi,As,BK),AD='<div class="'+CF+'">'+'<div class="'+BH+'"></div>'+"</div>",AT='<table class="'+BU+'">'+"<tbody>"+'<tr class="'+D+'" height="1">'+'<td height="0" class="'+[CV,o].join(u)+'"></td>'+'<td class="'+CC+'" colspan="1">'+'<div class="'+CB+'">'+'<div class="'+l+'"></div>'+"</div>"+"</td>"+"</tr>"+'<tr class="'+b+'">'+'<td class="'+[CV,CN].join(u)+'"></td>'+"</tr>"+"</tbody>"+"</table>",BC='<td class="'+[CV,g].join(u)+'">'+'<div class="'+Aa+'"></div>'+"</td>",J='<div class="'+BM+'">{hour}</div>',AV='<table class="'+CI+'">'+"<tbody>"+'<tr class="'+A0+'"></tr>'+"</tbody>"+"</table>",BF='<th class="'+U+'"><a href="#">&nbsp;</a></th>',AS='<td class="'+[U,Bp].join(u)+'"></td>',X='<th class="'+[U,BG].join(u)+'">&nbsp;</th>';var CW=B2.Component.create({NAME:Ae,ATTRS:{bodyContent:{value:Bc},days:{value:1,validator:Af},headerDateFormat:{value:"%a %d/%m",validator:Br},name:{value:CG},hourHeight:{value:52,validator:Af},eventWidth:{value:95,validator:Af},headerTableNode:{valueFn:function(){return B2.Node.create(AV);}},tableNode:{valueFn:function(){return B2.Node.create(AT);}},colDaysNode:{valueFn:"_valueColDaysNode"},colHeaderDaysNode:{valueFn:"_valueColHeaderDaysNode"},markercellsNode:{valueFn:"_valueMarkercellsNode"},timesNode:{valueFn:"_valueTimesNode"}},HTML_PARSER:{colHeaderDaysNode:n(Bk+U,2),colDaysNode:n(Bk+g,1),markercellsNode:n(Bk+CF,24),timesNode:n(Bk+BM,24),headerTableNode:Bk+CI,tableNode:Bk+BU},EXTENDS:B2.SchedulerView,prototype:{initializer:function(){var A=this;A.colDaysNode=A.get(AW);A.colHeaderDaysNode=A.get(B4);A.headerTableNode=A.get(CX);A.markercellsNode=A.get(Aw);A.tableNode=A.get(BT);A.timesNode=A.get(AH);A.colShimNodes=A.colDaysNode.all(Bk+Aa);A.colDataNode=A.tableNode.one(Bk+b);A.colTimeNode=A.tableNode.one(Bk+CN);A.dayHeaderColNode=A.headerTableNode.one(Bk+A0);A.gridContainer=A.tableNode.one(Bk+CC);A.markersNode=A.tableNode.one(Bk+l);},renderUI:function(){var A=this;A.colTimeNode.setContent(A.timesNode);A.markersNode.setContent(A.markercellsNode);A.colDaysNode.appendTo(A.colDataNode);
A.colHeaderDaysNode.appendTo(A.dayHeaderColNode);},bindUI:function(){var A=this;A.headerTableNode.delegate("click",B2.bind(A._onClickDaysHeader,A),Bk+U);A.colDataNode.delegate("mousedown",B2.bind(A._onMouseDownTableCol,A),Bk+CV);A.colDataNode.delegate("mouseup",B2.bind(A._onMouseUpTableCol,A),Bk+CV);A.colDataNode.delegate("mousemove",B2.bind(A._onMouseMoveTableCol,A),Bk+CV);A.on("drag:end",A._onEventDragEnd);A.on("drag:start",A._onEventDragStart);A.on("drag:align",A._dragAlign);A.on("drag:tickAlignX",A._dragTickAlignX);A.on("drag:tickAlignY",A._dragTickAlignY);},syncUI:function(){var A=this;CW.superclass.syncUI.apply(this,arguments);A.gridContainer.attr(v,A.get(t));A._setupDragDrop();},syncStdContent:function(){var A=this;A.setStdModContent(By.BODY,A.tableNode.getDOM());A.setStdModContent(By.HEADER,A.headerTableNode.getDOM());},calculateTopByDate:function(Cf){var AM=this;var A=AM.get(Ad);var Ce=Cf.getHours();var Cg=Cf.getMinutes();var Ch=Cf.getSeconds();return((Ce*60)+Cg+(Ch/60))*(A/60);},calculateHoursByTop:function(Cg){var AM=this;var A=AM.get(Ad);var Ci=Be((Cg/A).toFixed(2));var Ch=0;var Cf=Math.floor((Ci*100)%100*0.6);var Ce=Math.floor(Ci);return[Ce,Cf,Ch];},getNextDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.add(AM,AQ.DAY,1);},getPrevDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.subtract(AM,AQ.DAY,1);},getColumnByDate:function(Ce){var A=this;var Cf=A.get(S);var AM=AQ.safeClearTime(Cf.get(BA));var Cg=AQ.getDayOffset(AQ.safeClearTime(Ce),AM);return A.colDaysNode.item(Cg);},getDateByColumn:function(Ce){var A=this;var Cf=A.get(S);var AM=AQ.safeClearTime(Cf.get(BA));return AQ.add(AM,AQ.DAY,Ce);},plotEvents:function(Ce){var A=this;var AM=A.get(S);A.colShimNodes.each(function(Ci,Ch){var Cg=A.getDateByColumn(Ch);var Cf=AM.getEventsByDay(Cg);Ci.empty();B2.Array.each(Cf,function(Cj,Ck){if(!Cj.isDayOverlapEvent()){Ci.append(Cj.get(Cd));Cj.set(CO,Ci.get(q));A.syncEventTopUI(Cj);A.syncEventHeightUI(Cj);}});A.syncEventsIntersectionUI(Cf);});},syncColumnsUI:function(){var A=this;A.colDaysNode.each(function(Cf,Ce){var AM=A.getDateByColumn(Ce);Cf.toggleClass(p,AQ.isToday(AM));});},syncDaysHeaderUI:function(){var Ce=this;var Cg=Ce.get(S);var Cf=Cg.get(BA);var AM=Ce.get(A8);var A=Ce.get(AX);Ce.colHeaderDaysNode.all(L).each(function(Cj,Ci){var Ch=AQ.add(Cf,AQ.DAY,Ci);var Ck=B2.DataType.Date.format(Ch,{format:AM,locale:A});Cj.toggleClass(AP,AQ.isToday(Ch));Cj.html(Ck);});},syncEventsIntersectionUI:function(AM){var A=this;var Ce=A.get(S);var Cf=A.get(T);Ce.flushEvents();B2.Array.each(AM,function(Ch,Ci){var Ck=A.findEventIntersections(Ch,AM);var Cj=Ck.length;var Cg=(Cf/Cj);B2.Array.each(Ck,function(Cm,Cn){var Cl=Cm.get(Cd);var Cp=Cg*Cn;var Co=Cg*1.7;if(Cn==(Cj-1)){Co=Cf-Cp;}Cl.setStyle(BX,Co+BY);Cl.setStyle(Aq,Cp+BY);var Cq=Cl.get(q);if(Cq){Cq.insert(Cl,Cn);}Cm._filtered=true;});});},syncEventHeightUI:function(Ce){var AM=this;var A=AM.get(Ad);var Cg=AM.calculateTopByDate(Ce.get(B5));var Cf=AM.calculateTopByDate(Ce.get(AZ));Ce.get(Cd).set(Bz,Math.max(Cf-Cg,A/2));},syncEventRecorderUI:function(Cf){var A=this;var Ce=A.get(S);var Cg=Ce.get(Cc);var AM=Cg.get(Cd);if(Cf&&!AM.inDoc()){Cf.append(AM);}A.syncEventTopUI(Cg);A.syncEventHeightUI(Cg);},syncEventTopUI:function(Ce){var AM=this;var A=Ce.get(Cd);var Cf=AM.calculateTopByDate(Ce.get(B5));A.setStyle(BO,Cf+AG);},findEventIntersections:function(AM,Ce){var A=this;var Cf=[];B2.Array.each(Ce,function(Ch,Cg){if(!AM._filtered&&!Ch.isDayOverlapEvent()&&AM.intersectHours(Ch)){Cf.push(Ch);}});return Cf;},_createEvents:function(){var A=this;var AM=function(Ce,Cf){A.publish(Ce,{defaultFn:Cf,queuable:false,emitFacade:true,bubbles:true,prefix:Bi});};},_dragTickAlignX:function(AM){var Cm=this;var Cn=AM.target.get(Ao);var Co=Cm._getColumnRefWidth();var Cg=Cn.get(Cd);var Cj=Cm.proxyEvt;var Ck=Cg.getData(Ac);var Cl=(Cn.actXY[0]-Cm.bodyNode.getX()-Cm.colTimeNode.get(B1));var Ce=Math.floor(Cl/Co);var Ci=Cm.colDaysNode.item(Ce);var Ch=Cm.getDateByColumn(Ce);var A=AQ.clone(Ch);var Cf=AQ.clone(Ch);AQ.copyHours(Cf,Cj.get(AZ));AQ.copyHours(A,Cj.get(B5));Cj.set(AZ,Cf);Cj.set(B5,A);},_dragTickAlignY:function(Ce){var Cj=this;var Ck=Ce.target.get(Ao);var Cg=Ck.get(Cd);var Ch=Cj.proxyEvt;var Ci=Cg.getData(Ac);var AM=AQ.clone(Ch.get(B5));var A=Cj.calculateHoursByTop(Be(Ck.get(B8).getComputedStyle(BO)));Cj._setTickedHours(AM,A);var Cf=AQ.clone(AM);Ch.set(AZ,AQ.add(Cf,AQ.MINUTES,Cj._currentEvtDuration));Ch.set(B5,AM);Ch.syncNodeTitleUI();},_getXYDelta:function(AM){var A=this;var Cf=AM.currentTarget;var Ce=Cf.getXY(),Cg=[AM.pageX,AM.pageY];return B2.Array.map(Ce,function(Ci,Ch){return(Cg[Ch]-Ci);});},_getTickY:function(){var A=this;return Bg(Math.ceil(A.get(Ad)/2),10);},_getColumnRefWidth:function(){var A=this;var AM=A.colDaysNode.item(0);return Be(AM.getStyle(BX))-Be(AM.getStyle(CA))-Be(AM.getStyle(V));},_setupDragDrop:function(){var Ce=this;var Cf=Ce.get(Ap);if(!Ce.proxyEvt){var Cg=Ce.get(S);Ce.proxyEvt=new B2.SchedulerEvent({scheduler:Cg});Ce.proxyEvt.removeTarget(Cg);Ce.proxyEvt.get(Cd).addClass(Bn);}if(!Ce.delegate){Ce.delegate=new B2.DD.Delegate({bubbleTargets:Ce,container:Cf,nodes:Bk+Ai});}var AM=Ce.delegate.dd;var Ch=Ce.proxyEvt;var Ci=Ce.get(Ad)/2;var A=Ce._getColumnRefWidth();AM.unplug(B2.Plugin.DDConstrained);AM.unplug(B2.Plugin.DDNodeScroll);AM.plug(B2.Plugin.DDConstrained,{bubbleTargets:Ce,constrain:Ce.bodyNode,tickX:A,tickY:Ci});AM.plug(B2.Plugin.DDNodeScroll,{node:Ce.bodyNode,scrollDelay:150});},_uiSetCurrentDate:function(AM){var A=this;A.syncColumnsUI();A.syncDaysHeaderUI();},_onClickDaysHeader:function(Cf){var A=this;var Ce=A.get(S);if(Cf.target.test(L)){var Cg=Ce.getViewByName(CG);var AM=A.colHeaderDaysNode.indexOf(Cf.currentTarget)-1;if(Cg){Ce.set(BA,A.getDateByColumn(AM));Ce.set(Bd,Cg);}}Cf.preventDefault();},_onEventDragEnd:function(A){var Cj=this;var Cg=Cj.get(S);var Cf=Cj.get(Ap);var Ck=Cj.delegate.dd;var Ce=Ck.get(Cd);var Ch=Cj.proxyEvt;var AM=Ch.get(Cd);var Ci=Ce.getData(Ac);Ce.show();AM.hide();Cf.selectable();Ci.copyDates(Ch);
Cg.syncEventsUI();},_onEventDragStart:function(A){var Cj=this;var Cg=Cj.get(Ap);var Ck=Cj.delegate.dd;var Cf=Ck.get(Cd);var Ch=Cj.proxyEvt;var Ci=Cf.getData(Ac);var Ce=Be(Cf.getComputedStyle(Aq));if(Ce){Ck.deltaXY[0]=(Ce+Be(Ck.deltaXY[0]));}if(Ci){var Cl=Ci.get(CO);var AM=Ch.get(Cd);Ck.set(B8,AM);Cl.append(AM);Ch.copyPropagateAttrValues(Ci);Cj.syncEventTopUI(Ch);Cj.syncEventHeightUI(Ch);AM.show();Cj._currentEvtDuration=Ci.getMinutesDuration();}Cf.hide();Cg.unselectable();},_onMouseDownTableCol:function(Cf){var A=this;var Ce=A.get(S);var Cg=Ce.get(Cc);if(Cg){Cg.hideOverlay();if(Cf.target.test(Bk+Aa)){var AM=A.colDaysNode.indexOf(Cf.currentTarget);A.dragXY=A.startXY=A._getXYDelta(Cf);A.ddStartDate=A.getDateByColumn(AM);A.ddEndDate=AQ.clone(A.ddStartDate);A._setTickedHours(A.ddStartDate,A.calculateHoursByTop(A.startXY[1]));A.ddMaxDate=AQ.clone(A.ddStartDate);A.ddMaxDate.setHours(23,59,59);Cg.set(B5,A.ddStartDate);Cg.set(AZ,A.limitDate(Cg.get(AZ),A.ddMaxDate));Cf.halt();}}},_onMouseMoveTableCol:function(Cg){var A=this;var Cf=A.get(S);var Cj=Cf.get(Cc);var Ch=A.ddStartDate;if(Ch){A.dragXY=A._getXYDelta(Cg);A._setTickedHours(A.ddEndDate,A.calculateHoursByTop(A.dragXY[1]));var Ci=AQ.getMinutesOffset(A.ddEndDate,Ch);if((A.dragXY[1]-A.startXY[1])>0){Ci=Aj(Ci,Cj.get(Bq));}var AM=A.limitDate(AQ.add(Ch,AQ.MINUTES,Ci),A.ddMaxDate);if(Ci>0){Cj.set(AZ,AM);}else{var Ce=Cj.get(AZ);Cj.set(B5,AM);Cj.set(AZ,Ce);}A.syncEventRecorderUI(Cg.currentTarget);}},_onMouseUpTableCol:function(Ce){var A=this;var AM=A.get(S);var Cf=AM.get(Cc);if(Cf){if(A.ddStartDate){A.syncEventRecorderUI(Ce.currentTarget);Cf.showOverlay();}A.ddEndDate=null;A.ddStartDate=null;}},_setTickedHours:function(AM,Ce){var A=this;AM.setHours(Ce[0],Bg(Ce[1],A._getTickY()),Ce[2]);},_valueColDaysNode:function(){var A=this;var Ce=A.get(t);var AM=[];while(Ce--){AM.push(BC);}return B2.NodeList.create(AM.join(Bc));},_valueColHeaderDaysNode:function(){var A=this;var Ce=A.get(t);var AM=[];AM.push(AS);while(Ce--){AM.push(BF);}AM.push(X);return B2.NodeList.create(AM.join(Bc));},_valueMarkercellsNode:function(){var A=this;var AM=[];for(var Ce=0;Ce<=23;Ce++){AM.push(AD);}return B2.NodeList.create(AM.join(Bc));},_valueTimesNode:function(){var A=this;var Cf=A.get(AJ);var Ce=[];for(var AM=0;AM<=23;AM++){Ce.push(B2.substitute(J,{hour:Cf?AQ.toIsoTimeString(AM):AQ.toUsTimeString(AM,false,true)}));}return B2.NodeList.create(Ce.join(Bc));}}});B2.SchedulerDayView=CW;var AL=B2.Component.create({NAME:B6,ATTRS:{bodyContent:{value:Bc},days:{value:7},name:{value:CM}},EXTENDS:B2.SchedulerDayView,prototype:{adjustCurrentDate:function(){var A=this;var Cf=A.get(S);var AM=Cf.get(BA);var Ce=Cf.get(B7);Cf.set(BA,AQ.getFirstDayOfWeek(AM,Ce));},getNextDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);var Cf=A._firstDayOfWeek(AM);return AQ.add(Cf,AQ.WEEK,1);},getPrevDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);var Cf=A._firstDayOfWeek(AM);return AQ.subtract(Cf,AQ.WEEK,1);},getToday:function(){var A=this;var AM=AL.superclass.getToday.apply(this,arguments);return A._firstDayOfWeek(AM);},_firstDayOfWeek:function(Ce){var A=this;var Cf=A.get(S);var AM=Cf.get(B7);return AQ.getFirstDayOfWeek(Ce,AM);}}});B2.SchedulerWeekView=AL;var I=e(Bi,Bb,An),A2=e(Bi,Bb,B0,AF),Y=e(Bi,Bb,B0,CG),CS=e(Bi,Bb,B0,As),Bu=e(Bi,Bb,BN),AO=e(Bi,Bb,BN,An),G=e(W),M=e(W,"arrowstop-1-l"),CP=e(W,"arrowstop-1-r"),Bv=e(Bi,Bb,B),C=e(Bi,Bb,B,AK),P=e(Bi,Bb,B,Ag),Ba=e(Bi,Bb,As,BW),Ay=e(Bi,Bb,As,BW,Ag),Bt=e(Bi,Bb,As,BW,AF),B9=e(Bi,Bb,As,BW,AF,Ag),Az=e(Bi,Bb,As,BW,AF,AI),Au=e(Bi,Bb,As,BW,AF,H),r=e(Bi,Bb,As,BW,AF,H,AK),AE=e(Bi,Bb,As,BW,AF,H,Ag),c=e(Bi,Bb,As,BW,AF,H,Am),CU=e(Bi,Bb,As,BW,AF,H,AA),BL=e(Bi,Bb,As,BW,A1),E=e(Bi,Bb,As,BW,A1,Aq),Bm=e(Bi,Bb,As,BW,A1,Ax),Q=e(Bi,Bb,As,BW,A1,Bx),BB=e(Bi,Bb,As,A7),CK=e(Bi,Bb,As,A7,Ag),CZ=e(Bi,As,BQ,B0),f='<table class="'+CS+'">'+"<tbody>"+'<tr class="'+A2+'"></tr>'+"</tbody>"+"</table>",m='<th class="'+Y+'"><div>&nbsp;</div></th>',CH='<div class="'+I+'">'+'<div class="'+AO+'">'+'<div class="'+Bu+'" style="top: 0; height: 16.6667%;"></div>'+'<div class="'+Bu+'" style="top: 16.6667%; height: 16.6667%;"></div>'+'<div class="'+Bu+'" style="top: 33.3333%; height: 16.6667%;"></div>'+'<div class="'+Bu+'" style="top: 50%; height: 16.6667%;"></div>'+'<div class="'+Bu+'" style="top: 66.6667%; height: 16.6667%;"></div>'+'<div class="'+Bu+'" style="top: 83.3333%; height: 16.6667%;"></div>'+"</div>"+"</div>",BS='<table cellspacing="0" cellpadding="0" class="'+BB+'">'+"<tbody>"+"<tr>"+'<td class="'+[Bv,P].join(u)+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+'<td class="'+Bv+'">&nbsp;</td>'+"</tr>"+"</tbody>"+"</table>",Bo='<table cellspacing="0" cellpadding="0" class="'+Ba+'">'+"<tbody></tbody>"+"</table>",CD="<tr></tr>",A4='<td class="'+Bt+'"><div></div></td>',y='<span class="'+[G,M].join(u)+'"></span>',i='<span class="'+[G,CP].join(u)+'"></span>';var AY=B2.Component.create({NAME:CT,ATTRS:{bodyContent:{value:Bc},name:{value:Bb},headerDateFormat:{value:"%a"},navigationDateFormat:{value:"%b %Y"},scrollable:{value:false},monthContainerNode:{valueFn:function(){return B2.Node.create(CH);}},headerTableNode:{valueFn:function(){return B2.Node.create(f);}},colHeaderDaysNode:{valueFn:"_valueColHeaderDaysNode"},tableGridNode:{valueFn:"_valueTableGridNode"}},HTML_PARSER:{tableGridNode:n(Bk+BB,7),colHeaderDaysNode:n(Bk+Y,7),monthContainerNode:Bk+I,headerTableNode:Bk+CS},EXTENDS:B2.SchedulerView,prototype:{evtDateStack:null,evtDataTableStack:null,initializer:function(){var A=this;var AM=A.get(S);A.evtDateStack={};A.evtDataTableStack={};A.colHeaderDaysNode=A.get(B4);A.headerTableNode=A.get(CX);A.monthContainerNode=A.get(A6);A.tableGridNode=A.get(d);A.dayHeaderColNode=A.headerTableNode.one(Bk+A2);A.monthRows=A.monthContainerNode.all(Bk+Bu);A.tableGridCols=A.tableGridNode.all(F);},renderUI:function(){var A=this;A.colHeaderDaysNode.appendTo(A.dayHeaderColNode);A.monthRows.each(function(Cf,Ce){var AM=A.tableGridNode.item(Ce);
Cf.append(AM.toggleClass(CK,(Ce==0)));});},buildEventsTable:function(AM,Ci){var Co=this;var Cl=5;var Cf=AQ.clearTime(Co._findCurrentMonthEnd());var Cn=AQ.clearTime(Co._findCurrentMonthStart());var Ck=String(Cn.getTime()).concat(AM.getTime()).concat(Ci.getTime());var Cj=Co.evtDataTableStack[Ck];if(!Cj){Cj=B2.Node.create(Bo);var Cm=Cj.one(BR);var Cg=B2.Node.create(CD);Co.loopDates(AM,Ci,function(Cq,Cp){var Cr=B2.Node.create(A4);Cr.addClass(Au).toggleClass(AE,(Cp==0)).toggleClass(r,AQ.isToday(Cq)).toggleClass(c,AQ.isToday(AQ.subtract(Cq,AQ.DAY,1))).toggleClass(CU,AQ.isToday(AQ.subtract(Cq,AQ.WEEK,1)));if(AQ.before(Cq,Cn)||AQ.after(Cq,Cf)){Cr.addClass(Az);}Cg.append(Cr.setContent(Cq.getDate()));});Cm.append(Cg);for(var A=0;A<Cl;A++){var Ch=0;var Ce=B2.Node.create(CD);Co.loopDates(AM,Ci,function(Cu,Cs){if(Ch<=Cs){var Ct=Co.getIntersectEvents(Cu),Cq=Ct[A];var Cv=B2.Node.create(A4);if(Cq){var Cp=Cv.one(w);var Cr=Co._getEvtSplitInfo(Cq,AM,Ci);Cv.attr(v,Cr.colspan);Cp.addClass(BL).setContent(Co._getEvtLabel(Cq));if(Cr.left){Cp.addClass(E).prepend(y);}if(Cr.right){Cp.addClass(Bm).append(i);}if(Cq.get(CL)){Cp.addClass(Q);}Ch+=Cr.colspan;}else{Ch++;}Ce.append(Cv);}});Cm.append(Ce);}Co.evtDataTableStack[Ck]=Cj;}return Cj;},flushViewCache:function(){var A=this;A.evtDateStack={};A.evtDataTableStack={};},getIntersectEvents:function(AM){var A=this;var Cf=A.get(S);var Ce=String(AM.getTime());if(!A.evtDateStack[Ce]){A.evtDateStack[Ce]=Cf.getIntersectEvents(AM);}return A.evtDateStack[Ce];},loopDates:function(A,Cf,Ci,Cj,Ch){var Ck=this;var AM=AQ.clone(A);var Ce=Cf.getTime();for(var Cg=0;AM.getTime()<=Ce;Cg++){Ci.apply(Ck,[AM,Cg]);AM=AQ.add(AM,(Cj||AQ.DAY),(Ch||1));}},plotEvents:function(){var AM=this;var Ce=AM._findCurrentMonthStart();var A=AQ.safeClearTime(AM._findFirstDayOfWeek(Ce));AM.bodyNode.all(Bk+Ba).remove();AM.monthRows.each(function(Ci,Cg){var Cf=AQ.add(A,AQ.WEEK,Cg);var Cj=AQ.add(Cf,AQ.DAY,Ak-1);var Ch=AM.buildEventsTable(Cf,Cj);if(Cg==0){Ch.addClass(Ay);}Ci.append(Ch);});},syncStdContent:function(){var A=this;A.setStdModContent(By.BODY,A.monthContainerNode.getDOM());A.setStdModContent(By.HEADER,A.headerTableNode.getDOM());},syncGridUI:function(){var Ck=this;var Ce=Ck.getToday();var AM=Ck.get(S);Ck.tableGridCols.removeClass(C);if(AQ.isSameMonth(Ce,AM.get(BA))){var A=AM.get(B7);var Ce=Ck.getToday();var Cg=Ck._findCurrentMonthStart();var Ci=Ck._findFirstDayOfWeek(Ce);var Cf=AQ.getWeekNumber(Ce,A)-AQ.getWeekNumber(Cg,A);var Cj=(Ce.getDate()-Ci.getDate());var Ch=Ck.tableGridNode.item(Cf).all(F).item(Cj);if(Ch){Ch.addClass(C);}}},adjustCurrentDate:function(){var A=this;var AM=A.get(S);AM.set(BA,A._findCurrentMonthStart());},getNextDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.add(AM,AQ.MONTH,1);},getPrevDate:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.subtract(AM,AQ.MONTH,1);},syncDaysHeaderUI:function(){var Ce=this;var Ch=Ce.get(S);var Cf=Ch.get(BA);var AM=Ce.get(A8);var A=Ce.get(AX);var Cg=Ce._findFirstDayOfWeek(Cf);Ce.colHeaderDaysNode.all(w).each(function(Ck,Cj){var Ci=AQ.add(Cg,AQ.DAY,Cj);var Cl=B2.DataType.Date.format(Ci,{format:AM,locale:A});Ck.html(Cl);});},_findCurrentMonthEnd:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.findMonthEnd(AM);},_findCurrentMonthStart:function(){var A=this;var Ce=A.get(S);var AM=Ce.get(BA);return AQ.findMonthStart(AM);},_findFirstDayOfWeek:function(Ce){var A=this;var Cf=A.get(S);var AM=Cf.get(B7);return AQ.getFirstDayOfWeek(Ce,AM);},_getEvtLabel:function(Ce){var AM=this;var Cf=Ce.get(AZ);var A=Ce.get(B5);return[A.getHours(),Bf,Cf.getHours(),u,Ce.get(Al)].join(Bc);},_getEvtSplitInfo:function(Cj,A,Ch){var Ck=this;var AM=Cj.getClearStartDate();var Ci=Cj.getClearEndDate();var Cg=Cj.getDaysDuration();var Cf={};var Ce=1;if(AQ.after(AM,A)){Ce=Math.min(Cg,Math.abs(AQ.getDayOffset(Ch,AM))+1);if(Ce>1){Cf.right=true;}}else{Ce=Math.abs(AQ.getDayOffset(Ci,A)+1);if(Ce>1){Cf.left=true;}}Cf.colspan=Math.min(Ce,Ak);if(Ce>=Ak){Cf.right=true;Cf.left=true;}return Cf;},_uiSetCurrentDate:function(AM){var A=this;A.syncDaysHeaderUI();A.syncGridUI();},_valueColHeaderDaysNode:function(){var A=this;return A._valueNodeList(Ak,m);},_valueTableGridNode:function(){var A=this;return A._valueNodeList(Ak,BS);},_valueNodeList:function(Cf,Ce){var A=this;var AM=[];while(Cf--){AM.push(Ce);}return B2.NodeList.create(AM.join(Bc));}}});B2.SchedulerMonthView=AY;},"@VERSION@",{skinnable:true,requires:["aui-scheduler-event","aui-calendar","aui-button-item","substitute","dd-drag","dd-delegate","dd-drop","dd-constrain"]});