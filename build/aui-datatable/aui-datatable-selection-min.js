AUI.add("aui-datatable-selection",function(x){var i=x.Lang,q=i.isBoolean,s=i.isString,B=x.getClassName,h=x.cached(function(A){return A.substring(0,1).toUpperCase()+A.substring(1);}),m="cell",u="cellKeydown",l="columnset",f="columnsetChange",o="datatable",z="down",E="esc",C="host",n="id",v="left",p="mousedown",y="mouseEvent",t="multiple",D="recordset",e="recordsetChange",k="return",r="right",c="select",j="selected",d="tab",w="tabindex",g="up",a=B(o,m,j);var b=x.Base.create("dataTableSelection",x.Plugin.Base,[],{selectedCellHash:null,selectedColumnHash:null,selectedRowHash:null,initializer:function(){var A=this;A.selectedCellHash={};A.selectedColumnHash={};A.selectedRowHash={};A.publish({select:{defaultFn:A._defSelectFn}});A.afterHostEvent(u,A._afterKeyEvent);A.afterHostEvent(A.get(y),A._afterMouseEvent);A.afterHostEvent(f,A._afterHostColumnsetChange);A.afterHostEvent(e,A._afterHostRecordsetChange);},isCellSelected:function(F){var A=this;return A.selectedCellHash[F.get(n)];},isColumnSelected:function(A){},isRowSelected:function(A){},select:function(F){var A=this;A.selectCell(F);},selectCell:function(F){var A=this;if(!A.get(t)){A.unselectAllCells();}A.selectedCellHash[F.get(n)]=F;F.setAttribute(w,0).focus();F.addClass(a);},selectColumn:function(A){},selectRow:function(A){},toggleCell:function(F,G){var A=this;if(G||!A.isCellSelected(F)){A.selectCell(F);}else{A.unselectCell(F);}},toggleColumn:function(A,F){},toggleRow:function(F,A){},unselectCell:function(F){var A=this;delete A.selectedCellHash[F.get(n)];F.removeAttribute(w);F.removeClass(a);},unselectColumn:function(A){},unselectRow:function(A){},unselectAllCells:function(){var A=this;x.each(A.selectedCellHash,x.bind(A.unselectCell,A));},unselectAllColumns:function(){},unselectAllRows:function(){},_afterHostColumnsetChange:function(F){var A=this;A._cleanUp();},_afterHostRecordsetChange:function(F){var A=this;A._cleanUp();},_afterMouseEvent:function(F){var A=this;A._handleSelectEvent(F);},_afterKeyEvent:function(G){var F=this;var A=G.originalEvent;if(A.isNavKey()){if(A.isKey(E)){F._onEscKey(G);}else{if(A.isKey(k)){F._onReturnKey(G);}else{F._navigate(G);}}A.halt();}},_cleanUp:function(){var A=this;A.selectedCellHash={};A.selectedColumnHash={};A.selectedRowHash={};},_defSelectFn:function(F){var A=this;A.selectCell(F.cell);},_navigate:function(F){var A=this;A._updateNavKeyInfo(F);A._handleSelectEvent(F);},_onEscKey:function(H){var A=this;var G=A.get(C);var F=G.getCellEditor(H.record,H.column);if(F){F.hide();}},_onReturnKey:function(G){var A=this;var F=A.get(C);F._editCell(G);},_handleSelectEvent:function(F){var A=this;A.fire(c,{cell:F.cell,column:F.column,inHead:F.inHead,liner:F.liner,originalEvent:F.originalEvent,row:F.row,record:F.record});},_updateNavKeyInfo:function(A){var P=this;var Q=P.get(C);var F=A.originalEvent;var H=Q.get(l);var L=A.column.keyIndex;var N=Q.get(D);var J=N.getRecordIndex(A.record);var G=F.ctrlKey||F.metaKey;var M=F.shiftKey;if(F.isKey(v)||(M&&F.isKey(d))){if(G){L=0;}else{L--;}}else{if(F.isKey(r)||(!M&&F.isKey(d))){if(G){L=H.getLength()-1;}else{L++;}}else{if(F.isKey(z)){if(G){J=N.getLength()-1;}else{J++;}}else{if(F.isKey(g)){if(G){J=0;}else{J--;}}}}}L=Math.max(Math.min(L,H.getLength()-1),0);J=Math.max(Math.min(J,N.getLength()-1),0);var I=H.getColumn(L);var K=N.getRecord(J);var O=Q.getCellNode(K,I);if(Q.events){x.mix(A,Q.events.getEvtPayload(O,A),true);}},_setMouseEvent:function(A){return m+h(A);}},{NS:"selection",NAME:"dataTableSelection",ATTRS:{multiple:{value:false,validator:q},mouseEvent:{setter:"_setMouseEvent",value:p,validator:s}}});x.namespace("Plugin").DataTableSelection=b;},"@VERSION@",{requires:["aui-datatable-base"],skinnable:true});