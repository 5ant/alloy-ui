AUI.add("aui-node-base",function(S){var E=S.Lang,M=E.isArray,L=E.isObject,N=E.isString,D=E.isUndefined,X=E.isValue,H=S.ClassNameManager.getClassName,a=S.config,T="",O=[T,T],C="helper",Z=H(C,"hidden"),U=H(C,"unselectable"),V="innerHTML",Y="nextSibling",J="none",I="parentNode",K="script",R=false,F="value";var Q=document.createElement("div");Q.style.display="none";Q.innerHTML="   <table></table>&nbsp;";if(Q.attachEvent&&Q.fireEvent){Q.attachEvent("onclick",function(){R=true;Q.detachEvent("onclick",arguments.callee);});Q.cloneNode(true).fireEvent("onclick");}var G=!Q.getElementsByTagName("tbody").length;var W=/^\s+/,B=/=([^=\x27\x22>\s]+\/)>/g,P=/<([\w:]+)/;Q=null;S.mix(S.Node.prototype,{ancestors:function(b){var A=this;var d=[];var e=A.getDOM();while(e&&e.nodeType!==9){if(e.nodeType===1){d.push(e);}e=e.parentNode;}var c=new S.all(d);if(b){c=c.filter(b);}return c;},ancestorsByClassName:function(d){var A=this;var c=[];var b=new RegExp("\\b"+d+"\\b");var e=A.getDOM();while(e&&e.nodeType!==9){if(e.nodeType===1&&b.test(e.className)){c.push(e);}e=e.parentNode;}return S.all(c);},appendTo:function(b){var A=this;S.one(b).append(A);return A;},attr:function(b,e){var A=this;if(!D(e)){var d=A.getDOM();if(b in d){A.set(b,e);}else{A.setAttribute(b,e);}return A;}else{if(L(b)){for(var c in b){A.attr(c,b[c]);}return A;}return A.get(b)||A.getAttribute(b);}},clone:(function(){var A;if(R){A=function(){var b=this.getDOM();var d;if(b.nodeType!=3){var c=this.outerHTML();c=c.replace(B,'="$1">').replace(W,"");d=S.Node.create(c);}else{d=S.one(b.cloneNode());}return d;};}else{A=function(){return this.cloneNode(true);};}return A;})(),center:function(f){var A=this;f=(f&&S.one(f))||S.getBody();var d=f.get("region");var c=A.get("region");var e=d.left+(d.width/2);var b=d.top+(d.height/2);A.setXY([e-(c.width/2),b-(c.height/2)]);},empty:function(){var A=this;A.all(">*").remove().purge();var b=S.Node.getDOMNode(A);while(b.firstChild){b.removeChild(b.firstChild);}return A;},getDOM:function(){var A=this;return S.Node.getDOMNode(A);},guid:function(c){var b=this;var A=b.get("id");if(!A){A=S.stamp(b);b.set("id",A);}return A;},hide:function(b){var A=this;A.addClass(b||A._hideClass||Z);return A;},hover:function(c,b){var A=this;var d;var g=A._defaultHoverOptions;if(L(c,true)){d=c;d=S.mix(d,g);c=d.over;b=d.out;}else{d=S.mix({over:c,out:b},g);}A._hoverOptions=d;var f=new S.DelayedTask(A._hoverOverTaskFn,A);var e=new S.DelayedTask(A._hoverOutTaskFn,A);d.overTask=f;d.outTask=e;A.on(d.overEventType,A._hoverOverHandler,A);A.on(d.outEventType,A._hoverOutHandler,A);},html:function(){var A=arguments,b=A.length;if(b){this.set(V,A[0]);}else{return this.get(V);}return this;},outerHTML:function(){var A=this;var c=A.getDOM();if("outerHTML" in c){return c.outerHTML;}var b=S.Node.create("<div></div>").append(this.clone());try{return b.html();}catch(d){}finally{b=null;}},placeAfter:function(b){var A=this;return A._place(b,A.get(Y));},placeBefore:function(b){var A=this;return A._place(b,A);},prependTo:function(b){var A=this;S.one(b).prepend(A);return A;},radioClass:function(b){var A=this;A.siblings().removeClass(b);A.addClass(b);return A;},resetId:function(b){var A=this;A.attr("id",S.guid(b));return A;},selectText:function(h,c){var A=this;var b=A.getDOM();var f=A.val().length;c=X(c)?c:f;h=X(h)?h:0;try{if(b.setSelectionRange){b.setSelectionRange(h,c);}else{if(b.createTextRange){var d=b.createTextRange();d.moveStart("character",h);d.moveEnd("character",c-f);d.select();}else{b.select();}}if(b!=document.activeElement){b.focus();}}catch(g){}return A;},selectable:function(){var A=this;A.getDOM().unselectable="off";A.detach("selectstart");A.setStyles({"MozUserSelect":"","KhtmlUserSelect":""});A.removeClass(U);return A;},show:function(b){var A=this;A.removeClass(b||A._hideClass||Z);return A;},swallowEvent:function(b,c){var A=this;var d=function(e){e.stopPropagation();if(c){e.preventDefault();e.halt();}return false;};if(M(b)){S.Array.each(b,function(e){A.on(e,d);});return this;}else{A.on(b,d);}return A;},text:function(c){var A=this;var b=A.getDOM();if(!D(c)){c=S.DOM._getDoc(b).createTextNode(c);return A.empty().append(c);}return A._getText(b.childNodes);},toggle:function(b){var A=this;var c="hide";var d=b||A._hideClass||Z;if(A.hasClass(d)){c="show";}A[c](d);return A;},unselectable:function(){var A=this;A.getDOM().unselectable="on";A.swallowEvent("selectstart",true);A.setStyles({"MozUserSelect":J,"KhtmlUserSelect":J});A.addClass(U);return A;},val:function(b){var A=this;if(D(b)){return A.get(F);}else{return A.set(F,b);}},_getText:function(f){var A=this;var d=f.length;var c;var e=[];for(var b=0;b<d;b++){c=f[b];if(c&&c.nodeType!=8){if(c.nodeType!=1){e.push(c.nodeValue);}if(c.childNodes){e.push(A._getText(c.childNodes));}}}return e.join("");},_hoverOutHandler:function(c){var A=this;var b=A._hoverOptions;b.outTask.delay(b.outDelay,null,null,[c]);},_hoverOverHandler:function(c){var A=this;var b=A._hoverOptions;b.overTask.delay(b.overDelay,null,null,[c]);},_hoverOutTaskFn:function(c){var A=this;var b=A._hoverOptions;b.overTask.cancel();b.out.apply(b.context||c.currentTarget,arguments);},_hoverOverTaskFn:function(c){var A=this;var b=A._hoverOptions;b.outTask.cancel();b.over.apply(b.context||c.currentTarget,arguments);},_place:function(c,b){var A=this;var d=A.get(I);if(d){if(N(c)){c=S.Node.create(c);}d.insertBefore(c,b);}return A;},_defaultHoverOptions:{overEventType:"mouseenter",outEventType:"mouseleave",overDelay:0,outDelay:0,over:E.emptyFn,out:E.emptyFn}},true);if(!G){S.DOM._ADD_HTML=S.DOM.addHTML;S.DOM.addHTML=function(e,d,A){var f=(e.nodeName&&e.nodeName.toLowerCase())||"";var b;if(!D(d)){if(N(d)){b=(P.exec(d)||O)[1];}else{if(d.nodeType&&d.nodeType==11&&d.childNodes.length){b=d.childNodes[0].nodeName;}else{if(d.nodeName){b=d.nodeName;}}}b=b.toLowerCase();}if(f=="table"&&b=="tr"){e=e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"));var c=((A&&A.nodeName)||T).toLowerCase();if(c=="tbody"&&A.childNodes.length>0){A=A.firstChild;}}return S.DOM._ADD_HTML(e,d,A);
};}S.NodeList.importMethod(S.Node.prototype,["after","appendTo","attr","before","empty","hide","hover","html","outerHTML","prepend","prependTo","purge","selectText","selectable","show","text","toggle","unselectable","val"]);S.mix(S.NodeList.prototype,{all:function(c){var b=this;var g=[];var d=b._nodes;var f=d.length;var A;for(var e=0;e<f;e++){A=S.Selector.query(c,d[e]);if(A&&A.length){g.push.apply(g,A);}}g=S.Array.unique(g);return S.all(g);},first:function(){var A=this;return instacne.item(0);},getDOM:function(){var A=this;return S.NodeList.getDOMNodes(this);},last:function(){var A=this;return A.item(A._nodes.length-1);},one:function(b){var A=this;var e=null;var c=A._nodes;var f=c.length;for(var d=0;d<f;d++){e=S.Selector.query(b,c[d],true);if(e){e=S.one(e);break;}}return e;}});S.mix(S,{getBody:function(){var A=this;if(!A._bodyNode){A._bodyNode=S.one(a.doc.body);}return A._bodyNode;},getDoc:function(){var A=this;if(!A._documentNode){A._documentNode=S.one(a.doc);}return A._documentNode;},getWin:function(){var A=this;if(!A._windowNode){A._windowNode=S.one(a.win);}return A._windowNode;}});},"@VERSION@",{requires:["aui-base"]});