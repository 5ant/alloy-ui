AUI.add("aui-node-base",function(o){var R=o.Lang,u=R.isArray,p=R.isFunction,D=R.isObject,j=R.isString,r=R.isUndefined,h=R.isValue,s=o.Array,Q=o.getClassName,m=o.config,w=o.Node.prototype,n="",H=[n,n],F="helper",q="offset",P=Q(F,"force",q),a=Q(F,"hidden"),M=Q(F,"unselectable"),k="childNodes",G="createDocumentFragment",x="inner",K="innerHTML",b="nextSibling",y="none",i="outer",l="parentNode",v="region",C="script",E=false,L="value",c={b:"borderBottomWidth",l:"borderLeftWidth",r:"borderRightWidth",t:"borderTopWidth"},O={b:"marginBottom",l:"marginLeft",r:"marginRight",t:"marginTop"},e={b:"paddingBottom",l:"paddingLeft",r:"paddingRight",t:"paddingTop"};var N=document.createElement("div");N.style.display="none";N.innerHTML="   <table></table>&nbsp;";if(N.attachEvent&&N.fireEvent){N.attachEvent("onclick",function(){E=true;N.detachEvent("onclick",arguments.callee);});N.cloneNode(true).fireEvent("onclick");}var f=!N.getElementsByTagName("tbody").length;var t=/^\s+/,J=/=([^=\x27\x22>\s]+\/)>/g,I=/<([\w:]+)/;N=null;o.mix(w,{ancestors:function(S){var A=this;var U=[];var V=A.getDOM();while(V&&V.nodeType!==9){if(V.nodeType===1){U.push(V);}V=V.parentNode;}var T=new o.all(U);if(S){T=T.filter(S);}return T;},ancestorsByClassName:function(U){var A=this;var T=[];var S=new RegExp("\\b"+U+"\\b");var V=A.getDOM();while(V&&V.nodeType!==9){if(V.nodeType===1&&S.test(V.className)){T.push(V);}V=V.parentNode;}return o.all(T);},appendTo:function(S){var A=this;o.one(S).append(A);return A;},attr:function(S,W){var A=this;if(!r(W)){var V=A.getDOM();if(S in V){A.set(S,W);}else{A.setAttribute(S,W);}return A;}else{if(D(S)){for(var T in S){A.attr(T,S[T]);}return A;}var U=A.get(S);if(!R.isValue(U)){U=A.getAttribute(S);}return U;}},clone:(function(){var A;if(E){A=function(){var S=this.getDOM();var U;if(S.nodeType!=3){var T=this.outerHTML();T=T.replace(J,'="$1">').replace(t,n);U=o.Node.create(T);}else{U=o.one(S.cloneNode());}return U;};}else{A=function(){return this.cloneNode(true);};}return A;})(),center:function(W){var A=this;W=(W&&o.one(W))||o.getBody();var U=W.get(v);var T=A.get(v);var V=U.left+(U.width/2);var S=U.top+(U.height/2);A.setXY([V-(T.width/2),S-(T.height/2)]);},empty:function(){var A=this;A.all(">*").remove().purge();var S=o.Node.getDOMNode(A);while(S.firstChild){S.removeChild(S.firstChild);}return A;},getDOM:function(){var A=this;return o.Node.getDOMNode(A);},getBorderWidth:function(S){var A=this;return A._getBoxStyleAsNumber(S,c);},getCenterXY:function(){var A=this;var S=A.get(v);return[(S.left+S.width/2),(S.top+S.height/2)];},getMargin:function(S){var A=this;return A._getBoxStyleAsNumber(S,O);},getPadding:function(S){var A=this;return A._getBoxStyleAsNumber(S,e);},guid:function(T){var S=this;var A=S.get("id");if(!A){A=o.stamp(S);S.set("id",A);}return A;},hover:function(T,S){var A=this;var U;var V=A._defaultHoverOptions;if(D(T,true)){U=T;U=o.mix(U,V);T=U.over;S=U.out;}else{U=o.mix({over:T,out:S},V);}A._hoverOptions=U;U.overTask=o.debounce(A._hoverOverTaskFn,null,A);U.outTask=o.debounce(A._hoverOutTaskFn,null,A);A.on(U.overEventType,A._hoverOverHandler,A);A.on(U.outEventType,A._hoverOutHandler,A);},html:function(){var A=arguments,S=A.length;if(S){this.set(K,A[0]);}else{return this.get(K);}return this;},outerHTML:function(){var A=this;var T=A.getDOM();if("outerHTML" in T){return T.outerHTML;}var S=o.Node.create("<div></div>").append(this.clone());try{return S.html();}catch(U){}finally{S=null;}},placeAfter:function(S){var A=this;return A._place(S,A.get(b));},placeBefore:function(S){var A=this;return A._place(S,A);},prependTo:function(S){var A=this;o.one(S).prepend(A);return A;},radioClass:function(S){var A=this;A.siblings().removeClass(S);A.addClass(S);return A;},resetId:function(S){var A=this;A.attr("id",o.guid(S));return A;},selectText:function(X,T){var A=this;var S=A.getDOM();var V=A.val().length;T=h(T)?T:V;X=h(X)?X:0;try{if(S.setSelectionRange){S.setSelectionRange(X,T);}else{if(S.createTextRange){var U=S.createTextRange();U.moveStart("character",X);U.moveEnd("character",T-V);U.select();}else{S.select();}}if(S!=document.activeElement){S.focus();}}catch(W){}return A;},selectable:function(){var A=this;A.getDOM().unselectable="off";A.detach("selectstart");A.setStyles({"MozUserSelect":n,"KhtmlUserSelect":n});A.removeClass(M);return A;},swallowEvent:function(S,T){var A=this;var U=function(V){V.stopPropagation();if(T){V.preventDefault();V.halt();}return false;};if(u(S)){s.each(S,function(V){A.on(V,U);});return this;}else{A.on(S,U);}return A;},text:function(T){var A=this;var S=A.getDOM();if(!r(T)){T=o.DOM._getDoc(S).createTextNode(T);return A.empty().append(T);}return A._getText(S.childNodes);},toggle:function(S,T){var A=this;A._toggleView.apply(A,arguments);return A;},unselectable:function(){var A=this;A.getDOM().unselectable="on";A.swallowEvent("selectstart",true);A.setStyles({"MozUserSelect":y,"KhtmlUserSelect":y});A.addClass(M);return A;},val:function(S){var A=this;if(r(S)){return A.get(L);}else{return A.set(L,S);}},_getBoxStyleAsNumber:function(V,Y){var A=this;var X=V.match(/\w/g);var W=0;var U;var S;for(var T=X.length-1;T>=0;T--){S=X[T];U=0;if(S){U=parseFloat(A.getComputedStyle(Y[S]));U=Math.abs(U);W+=U||0;}}return W;},_getText:function(W){var A=this;var U=W.length;var T;var V=[];for(var S=0;S<U;S++){T=W[S];if(T&&T.nodeType!=8){if(T.nodeType!=1){V.push(T.nodeValue);}if(T.childNodes){V.push(A._getText(T.childNodes));}}}return V.join(n);},_hoverOutHandler:function(T){var A=this;var S=A._hoverOptions;S.outTask.delay(S.outDelay,T);},_hoverOverHandler:function(T){var A=this;var S=A._hoverOptions;S.overTask.delay(S.overDelay,T);},_hoverOutTaskFn:function(T){var A=this;var S=A._hoverOptions;S.overTask.cancel();S.out.apply(S.context||T.currentTarget,arguments);},_hoverOverTaskFn:function(T){var A=this;var S=A._hoverOptions;S.outTask.cancel();S.over.apply(S.context||T.currentTarget,arguments);},_place:function(T,S){var A=this;var U=A.get(l);if(U){if(j(T)){T=o.Node.create(T);}U.insertBefore(T,S);}return A;},_defaultHoverOptions:{overEventType:"mouseenter",outEventType:"mouseleave",overDelay:0,outDelay:0,over:R.emptyFn,out:R.emptyFn}},true);
w.__show=w._show;w.__hide=w._hide;w.__isHidden=w._isHidden;w._isHidden=function(){var A=this;return w.__isHidden.call(A)||A.hasClass(A._hideClass||a);};w._hide=function(){var A=this;A.addClass(A._hideClass||a);return A;};w._show=function(){var A=this;A.removeClass(A._hideClass||a);return A;};o.each(["Height","Width"],function(U,A,V){var T=A?"lr":"tb";var S=U.toLowerCase();w[S]=function(X){var W=this;var Y=W;if(r(X)){var aa=W._node;var ac;if(aa){if((!aa.tagName&&aa.nodeType===9)||aa.alert){ac=W.get(v)[S];}else{ac=W.get(q+U);var Z={};var ab=aa.style;if(!ac){W.addClass(P);ac=W.get(q+U);W.removeClass(P);}if(ac){ac-=(W.getPadding(T)+W.getBorderWidth(T));}}}Y=ac;}else{W.setStyle(S,X);}return Y;};w[x+U]=function(){var W=this;return W[S]()+W.getPadding(T);};w[i+U]=function(aa){var W=this;var X=W[x+U]();var Z=W.getBorderWidth(T);var Y=X+Z;if(aa){Y+=W.getMargin(T);}return Y;};});if(!f){o.DOM._ADD_HTML=o.DOM.addHTML;o.DOM.addHTML=function(V,U,A){var W=(V.nodeName&&V.nodeName.toLowerCase())||n;var S=n;if(!r(U)){if(j(U)){S=(I.exec(U)||H)[1];}else{if(U.nodeType&&U.nodeType==11&&U.childNodes.length){S=U.childNodes[0].nodeName;}else{if(U.nodeName){S=U.nodeName;}}}S=S&&S.toLowerCase();}if(W=="table"&&S=="tr"){V=V.getElementsByTagName("tbody")[0]||V.appendChild(V.ownerDocument.createElement("tbody"));var T=((A&&A.nodeName)||n).toLowerCase();if(T=="tbody"&&A.childNodes.length>0){A=A.firstChild;}}return o.DOM._ADD_HTML(V,U,A);};}o.NodeList.importMethod(w,["after","appendTo","attr","before","empty","hover","html","innerHeight","innerWidth","outerHeight","outerHTML","outerWidth","prepend","prependTo","purge","selectText","selectable","text","toggle","unselectable","val"]);var d=o.NodeList.prototype;o.mix(d,{all:function(T){var S=this;var X=[];var U=S._nodes;var W=U.length;var A;for(var V=0;V<W;V++){A=o.Selector.query(T,U[V]);if(A&&A.length){X.push.apply(X,A);}}X=s.unique(X);return o.all(X);},first:function(){var A=this;return A.item(0);},getDOM:function(){var A=this;return o.NodeList.getDOMNodes(this);},last:function(){var A=this;return A.item(A._nodes.length-1);},one:function(S){var A=this;var V=null;var T=A._nodes;var W=T.length;for(var U=0;U<W;U++){V=o.Selector.query(S,T[U],true);if(V){V=o.one(V);break;}}return V;}});d.__filter=d.filter;d.filter=function(U,T){var A=this;var V;if(p(U)){var S=[];A.each(function(X,W,Y){if(U.call(T||X,X,W,Y)){S.push(X._node);}});V=o.all(S);}else{V=d.__filter.call(A,U);}return V;};o.mix(o.NodeList,{create:function(S){var A=o.getDoc().invoke(G);return A.append(S).get(k);}});o.mix(o,{getBody:function(){var A=this;if(!A._bodyNode){A._bodyNode=o.one(m.doc.body);}return A._bodyNode;},getDoc:function(){var A=this;if(!A._documentNode){A._documentNode=o.one(m.doc);}return A._documentNode;},getWin:function(){var A=this;if(!A._windowNode){A._windowNode=o.one(m.win);}return A._windowNode;}});var z=o.DOM._getRegExp;var B=function(A,S){S=String(S);if(S.indexOf(A)!==0){S=A+S;}return S;};var g=function(A,S){return"#"+B(A,S);};o.Node.cssId=g;o.queryNS=function(T,A,S){A=A.replace(z("(#|\\[id=(\\\"|\\'))(?!"+T+")","g"),"$1"+T);return o[S||"one"](A);};o.oneNS=o.queryNS;o.allNS=function(S,A){return o.queryNS(S,A,"all");};o.byIdNS=function(A,S){return o.one(g(A,S));};},"@VERSION@",{requires:["node","aui-classnamemanager"]});