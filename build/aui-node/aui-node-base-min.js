AUI.add("aui-node-base",function(o){var S=o.Lang,u=S.isArray,p=S.isFunction,E=S.isObject,j=S.isString,r=S.isUndefined,h=S.isValue,s=o.Array,R=o.getClassName,m=o.config,w=o.Node.prototype,n="",I=[n,n],G="helper",q="offset",Q=R(G,"force",q),a=R(G,"hidden"),N=R(G,"unselectable"),k="childNodes",H="createDocumentFragment",x="inner",L="innerHTML",b="nextSibling",y="none",i="outer",l="parentNode",v="region",D="script",F=false,M="value",c={b:"borderBottomWidth",l:"borderLeftWidth",r:"borderRightWidth",t:"borderTopWidth"},P={b:"marginBottom",l:"marginLeft",r:"marginRight",t:"marginTop"},e={b:"paddingBottom",l:"paddingLeft",r:"paddingRight",t:"paddingTop"};var O=document.createElement("div");O.style.display="none";O.innerHTML="   <table></table>&nbsp;";if(O.attachEvent&&O.fireEvent){O.attachEvent("onclick",function(){F=true;O.detachEvent("onclick",arguments.callee);});O.cloneNode(true).fireEvent("onclick");}var f=!O.getElementsByTagName("tbody").length;var t=/^\s+/,K=/=([^=\x27\x22>\s]+\/)>/g,J=/<([\w:]+)/;O=null;o.mix(w,{ancestors:function(T){var A=this;var V=[];var W=A.getDOM();while(W&&W.nodeType!==9){if(W.nodeType===1){V.push(W);}W=W.parentNode;}var U=new o.all(V);if(T){U=U.filter(T);}return U;},ancestorsByClassName:function(V){var A=this;var U=[];var T=new RegExp("\\b"+V+"\\b");var W=A.getDOM();while(W&&W.nodeType!==9){if(W.nodeType===1&&T.test(W.className)){U.push(W);}W=W.parentNode;}return o.all(U);},appendTo:function(T){var A=this;o.one(T).append(A);return A;},attr:function(T,X){var A=this;if(!r(X)){var W=A.getDOM();if(T in W){A.set(T,X);}else{A.setAttribute(T,X);}return A;}else{if(E(T)){for(var U in T){A.attr(U,T[U]);}return A;}var V=A.get(T);if(!S.isValue(V)){V=A.getAttribute(T);}return V;}},clone:(function(){var A;if(F){A=function(){var T=this.getDOM();var V;if(T.nodeType!=3){var U=this.outerHTML();U=U.replace(K,'="$1">').replace(t,n);V=o.Node.create(U);}else{V=o.one(T.cloneNode());}return V;};}else{A=function(){return this.cloneNode(true);};}return A;})(),center:function(X){var A=this;X=(X&&o.one(X))||o.getBody();var V=X.get(v);var U=A.get(v);var W=V.left+(V.width/2);var T=V.top+(V.height/2);A.setXY([W-(U.width/2),T-(U.height/2)]);},empty:function(){var A=this;A.all(">*").remove().purge();var T=o.Node.getDOMNode(A);while(T.firstChild){T.removeChild(T.firstChild);}return A;},getDOM:function(){var A=this;return o.Node.getDOMNode(A);},getBorderWidth:function(T){var A=this;return A._getBoxStyleAsNumber(T,c);},getCenterXY:function(){var A=this;var T=A.get(v);return[(T.left+T.width/2),(T.top+T.height/2)];},getMargin:function(T){var A=this;return A._getBoxStyleAsNumber(T,P);},getPadding:function(T){var A=this;return A._getBoxStyleAsNumber(T,e);},guid:function(U){var T=this;var A=T.get("id");if(!A){A=o.stamp(T);T.set("id",A);}return A;},hover:function(U,T){var A=this;var V;var W=A._defaultHoverOptions;if(E(U,true)){V=U;V=o.mix(V,W);U=V.over;T=V.out;}else{V=o.mix({over:U,out:T},W);}A._hoverOptions=V;V.overTask=o.debounce(A._hoverOverTaskFn,null,A);V.outTask=o.debounce(A._hoverOutTaskFn,null,A);A.on(V.overEventType,A._hoverOverHandler,A);A.on(V.outEventType,A._hoverOutHandler,A);},html:function(){var A=arguments,T=A.length;if(T){this.set(L,A[0]);}else{return this.get(L);}return this;},outerHTML:function(){var A=this;var U=A.getDOM();if("outerHTML" in U){return U.outerHTML;}var T=o.Node.create("<div></div>").append(this.clone());try{return T.html();}catch(V){}finally{T=null;}},placeAfter:function(T){var A=this;return A._place(T,A.get(b));},placeBefore:function(T){var A=this;return A._place(T,A);},prependTo:function(T){var A=this;o.one(T).prepend(A);return A;},radioClass:function(T){var A=this;A.siblings().removeClass(T);A.addClass(T);return A;},resetId:function(T){var A=this;A.attr("id",o.guid(T));return A;},selectText:function(Y,U){var A=this;var T=A.getDOM();var W=A.val().length;U=h(U)?U:W;Y=h(Y)?Y:0;try{if(T.setSelectionRange){T.setSelectionRange(Y,U);}else{if(T.createTextRange){var V=T.createTextRange();V.moveStart("character",Y);V.moveEnd("character",U-W);V.select();}else{T.select();}}if(T!=document.activeElement){T.focus();}}catch(X){}return A;},selectable:function(){var A=this;A.getDOM().unselectable="off";A.detach("selectstart");A.setStyles({"MozUserSelect":n,"KhtmlUserSelect":n});A.removeClass(N);return A;},swallowEvent:function(T,U){var A=this;var V=function(W){W.stopPropagation();if(U){W.preventDefault();W.halt();}return false;};if(u(T)){s.each(T,function(W){A.on(W,V);});return this;}else{A.on(T,V);}return A;},text:function(U){var A=this;var T=A.getDOM();if(!r(U)){U=o.DOM._getDoc(T).createTextNode(U);return A.empty().append(U);}return A._getText(T.childNodes);},toggle:function(T,U){var A=this;A._toggleView.apply(A,arguments);return A;},unselectable:function(){var A=this;A.getDOM().unselectable="on";A.swallowEvent("selectstart",true);A.setStyles({"MozUserSelect":y,"KhtmlUserSelect":y});A.addClass(N);return A;},val:function(T){var A=this;if(r(T)){return A.get(M);}else{return A.set(M,T);}},_getBoxStyleAsNumber:function(W,Z){var A=this;var Y=W.match(/\w/g);var X=0;var V;var T;for(var U=Y.length-1;U>=0;U--){T=Y[U];V=0;if(T){V=parseFloat(A.getComputedStyle(Z[T]));V=Math.abs(V);X+=V||0;}}return X;},_getText:function(X){var A=this;var V=X.length;var U;var W=[];for(var T=0;T<V;T++){U=X[T];if(U&&U.nodeType!=8){if(U.nodeType!=1){W.push(U.nodeValue);}if(U.childNodes){W.push(A._getText(U.childNodes));}}}return W.join(n);},_hoverOutHandler:function(U){var A=this;var T=A._hoverOptions;T.outTask.delay(T.outDelay,U);},_hoverOverHandler:function(U){var A=this;var T=A._hoverOptions;T.overTask.delay(T.overDelay,U);},_hoverOutTaskFn:function(U){var A=this;var T=A._hoverOptions;T.overTask.cancel();T.out.apply(T.context||U.currentTarget,arguments);},_hoverOverTaskFn:function(U){var A=this;var T=A._hoverOptions;T.outTask.cancel();T.over.apply(T.context||U.currentTarget,arguments);},_place:function(U,T){var A=this;var V=A.get(l);if(V){if(j(U)){U=o.Node.create(U);}V.insertBefore(U,T);}return A;},_defaultHoverOptions:{overEventType:"mouseenter",outEventType:"mouseleave",overDelay:0,outDelay:0,over:S.emptyFn,out:S.emptyFn}},true);
w.__show=w._show;w.__hide=w._hide;w.__isHidden=w._isHidden;w._isHidden=function(){var A=this;return w.__isHidden.call(A)||A.hasClass(A._hideClass||a);};w._hide=function(){var A=this;A.addClass(A._hideClass||a);return A;};w._show=function(){var A=this;A.removeClass(A._hideClass||a);return A;};o.each(["Height","Width"],function(V,A,W){var U=A?"lr":"tb";var T=V.toLowerCase();w[T]=function(Y){var X=this;var Z=X;if(r(Y)){var ab=X._node;var ad;if(ab){if((!ab.tagName&&ab.nodeType===9)||ab.alert){ad=X.get(v)[T];}else{ad=X.get(q+V);var aa={};var ac=ab.style;if(!ad){X.addClass(Q);ad=X.get(q+V);X.removeClass(Q);}if(ad){ad-=(X.getPadding(U)+X.getBorderWidth(U));}}}Z=ad;}else{X.setStyle(T,Y);}return Z;};w[x+V]=function(){var X=this;return X[T]()+X.getPadding(U);};w[i+V]=function(ab){var X=this;var Y=X[x+V]();var aa=X.getBorderWidth(U);var Z=Y+aa;if(ab){Z+=X.getMargin(U);}return Z;};});if(!f){o.DOM._ADD_HTML=o.DOM.addHTML;o.DOM.addHTML=function(W,V,A){var X=(W.nodeName&&W.nodeName.toLowerCase())||n;var T=n;if(!r(V)){if(j(V)){T=(J.exec(V)||I)[1];}else{if(V.nodeType&&V.nodeType==11&&V.childNodes.length){T=V.childNodes[0].nodeName;}else{if(V.nodeName){T=V.nodeName;}}}T=T&&T.toLowerCase();}if(X=="table"&&T=="tr"){W=W.getElementsByTagName("tbody")[0]||W.appendChild(W.ownerDocument.createElement("tbody"));var U=((A&&A.nodeName)||n).toLowerCase();if(U=="tbody"&&A.childNodes.length>0){A=A.firstChild;}}return o.DOM._ADD_HTML(W,V,A);};}o.NodeList.importMethod(w,["after","appendTo","attr","before","empty","hover","html","innerHeight","innerWidth","outerHeight","outerHTML","outerWidth","prepend","prependTo","purge","selectText","selectable","text","toggle","unselectable","val"]);var d=o.NodeList.prototype;o.mix(d,{all:function(U){var T=this;var Y=[];var V=T._nodes;var X=V.length;var A;for(var W=0;W<X;W++){A=o.Selector.query(U,V[W]);if(A&&A.length){Y.push.apply(Y,A);}}Y=s.unique(Y);return o.all(Y);},first:function(){var A=this;return A.item(0);},getDOM:function(){var A=this;return o.NodeList.getDOMNodes(this);},last:function(){var A=this;return A.item(A._nodes.length-1);},one:function(T){var A=this;var W=null;var U=A._nodes;var X=U.length;for(var V=0;V<X;V++){W=o.Selector.query(T,U[V],true);if(W){W=o.one(W);break;}}return W;}});d.__filter=d.filter;d.filter=function(V,U){var A=this;var W;if(p(V)){var T=[];A.each(function(Y,X,Z){if(V.call(U||Y,Y,X,Z)){T.push(Y._node);}});W=o.all(T);}else{W=d.__filter.call(A,V);}return W;};o.mix(o.NodeList,{create:function(T){var A=o.getDoc().invoke(H);return A.append(T).get(k);}});o.mix(o,{getBody:function(){var A=this;if(!A._bodyNode){A._bodyNode=o.one(m.doc.body);}return A._bodyNode;},getDoc:function(){var A=this;if(!A._documentNode){A._documentNode=o.one(m.doc);}return A._documentNode;},getWin:function(){var A=this;if(!A._windowNode){A._windowNode=o.one(m.win);}return A._windowNode;}});var z=o.DOM._getRegExp;var C=S.String.prefix;var g=function(A,T){return"#"+C(A,T);};var B=function(T,A){return A.replace(z("(#|\\[id=(\\\"|\\'))(?!"+T+")","g"),"$1"+T);};o.Node.cssId=g;o.Node.formatSelectorNS=B;o.queryNS=function(U,A,T){return o[T||"one"](B(U,A));};o.oneNS=o.queryNS;o.allNS=function(T,A){return o.queryNS(T,A,"all");};o.byIdNS=function(A,T){return o.one(g(A,T));};},"@VERSION@",{requires:["aui-base-lang","node","aui-classnamemanager"]});