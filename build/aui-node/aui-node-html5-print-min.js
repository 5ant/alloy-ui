AUI.add("aui-node-html5-print",function(E){var D=E.config.win,H=E.config.doc,K=H.documentElement.firstChild,J=AUI.HTML5_ELEMENTS.join("|"),M=[],F=E.ClassNameManager.getClassName,L=E.cached(function(A){return new RegExp("^\\s*<"+A+"(.*)\\/"+A+">\\s*$","i");}),G=F("print"),C="."+G,B=new RegExp("\\b("+J+")\\b","gi"),I=function(A){return C+A;};if(E.UA.ie){E.HTML5.print={_parseSheets:function(S){var T=this;var Q=-1,P,O,A,N=S.length,V,U,R;while(++Q<N){A=S[Q].imports;U=S[Q].rules;P=-1;if(A.length){T._parseSheets(A);}V=U.length;while(++P<V){R=U[P].selectorText;O=U[P].style.cssText;if(R.match(B)){T._stylesheet.styleSheet.addRule(R.replace(B,I),O);}}}},shim:function(){var A=this;var N=H.createElement("div");E.HTML5._fragHTML5Shived.appendChild(N);A._fragment=N;D.attachEvent("onbeforeprint",E.bind(A.addSafeHTML,A));D.attachEvent("onafterprint",E.bind(A.removeSafeHTML,A));},addSafeCSS:function(){var A=this;var N=H.createElement("style");var O=H.styleSheets;K.insertBefore(N,K.firstChild);A._stylesheet=N;A._parseSheets(O);},removeSafeCSS:function(){K.removeChild(this._stylesheet);},addSafeHTML:function(){var T=this;var P=H.getElementsByTagName("*");var R=new RegExp("^"+J+"$","i");var Q=-1,S,O,U,A,N;T.addSafeCSS();while(++Q<P.length){S=P[Q].nodeName.match(R);if(S){O=L(S);U=(P[Q].currentStyle.display=="block")?"div":"span";T._fragment.innerHTML=P[Q].outerHTML.replace(/\r|\n/g," ").replace(O,"<"+U+"$1/"+U+">");N=T._fragment.childNodes[0];N.className+=" "+G+S;A=M[M.length]={before:P[Q],after:T._fragment.childNodes[0]};P[Q].parentNode.replaceChild(A.after,A.before);}}},removeSafeHTML:function(){var A=this;var O=M;var N=-1;A.removeSafeCSS();var P=O.length;while(++N<P){O[N].after.parentNode.replaceChild(O[N].before,O[N].after);}M=[];}};E.HTML5.print.shim();}},"@VERSION@",{requires:["aui-node-html5"]});