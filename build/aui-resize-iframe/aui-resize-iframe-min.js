AUI.add("aui-resize-iframe",function(c){var f=c.Lang,b=f.isString,i="resizeiframe",d=c.getClassName,g="height",e="no",h="scrolling",a=d(i,"monitored",g);ResizeIframe=c.Component.create({NAME:i,NS:i,EXTENDS:c.Plugin.Base,ATTRS:{monitorHeight:{value:true}},prototype:{initializer:function(){var j=this;var k=j.get("host");j._iframe=k;j._iframeEl=k.getDOM();j.bindUI();j.syncUI();},bindUI:function(){var j=this;j.after("monitorHeightChange",j._afterMonitorHeightChange);},syncUI:function(){var j=this;j._uiSetMonitorHeight(j.get("monitorHeight"));},destructor:function(){var j=this;j._uiSetMonitorHeight(false);},_afterMonitorHeightChange:function(k){var j=this;j._uiSetMonitorHeight(k.newVal);},_clearInterval:function(){var j=this;if(j._intervalId){c.clearInterval(j._intervalId);j._intervalId=null;}},_isIframeLoaded:function(){var k=this;var l=false;try{var j=k._iframe.contentWindow.document.readyState;l=(j=="complete"||j=="loaded");}catch(m){}return l;},_onResize:function(l){var j=this;j._sameDomain=null;var o=j._iframeHeight;var k=o;var n;try{n=j._iframeEl.contentWindow.document;j._sameDomain=true;}catch(m){}if(n&&n.body){k=n.body.offsetHeight;if(o!=k){j._iframeHeight=k;j._iframe.setStyle(g,k);}}else{if(!n){j._clearInterval();}}},_setInterval:function(){var j=this;if(!j._intervalId){j._intervalId=c.setInterval(j._onResize,100,j);}},_uiSetMonitorHeight:function(k){var j=this;var l=j._iframe;if(k){j._setInterval();j._loadHandle=l.on("load",j._setInterval,j);j._previousScrolling=l.attr(h);l.attr(h,e);l.addClass(a);}else{j._clearInterval();if(j._loadHandle){j._loadHandle.detach();}l.attr(h,j._previousScrolling);l.removeClass(a);}},_iframeHeight:0}});c.Plugin.ResizeIframe=ResizeIframe;},"@VERSION@",{requires:["aui-base","aui-task-manager","plugin"],skinnable:true});