AUI.add("aui-resize-iframe",function(c){var g=c.Lang,b=g.isString,j="resizeiframe",e=c.getClassName,h="height",d="hidden",f="no",i="scrolling",a=e(j,"monitored",h);ResizeIframe=c.Component.create({NAME:j,NS:j,EXTENDS:c.Plugin.Base,ATTRS:{height:{value:0},monitorHeight:{value:true}},prototype:{initializer:function(){var k=this;var l=k.get("host");k._iframe=l;k._iframeEl=l.getDOM();k.bindUI();k.syncUI();},bindUI:function(){var k=this;k.after("heightChange",k._afterHeightChange);k.after("monitorHeightChange",k._afterMonitorHeightChange);},syncUI:function(){var k=this;k._uiSetMonitorHeight(k.get("monitorHeight"));},destructor:function(){var k=this;k._uiSetMonitorHeight(false);},_afterHeightChange:function(l){var k=this;k.set("monitorHeight",false);k._uiSetHeight(l.newVal);},_afterMonitorHeightChange:function(l){var k=this;k._uiSetMonitorHeight(l.newVal);},_clearInterval:function(){var k=this;var l=k._iframeDoc;if(l){var m=l.documentElement;if(m){m.style.overflow="";}}if(k._intervalId){c.clearInterval(k._intervalId);k._intervalId=null;}},_onResize:function(){var k=this;k._iframeDoc=null;var l=k._iframeHeight;var n;try{n=k._iframeEl.contentWindow.document;k._iframeDoc=n;}catch(m){}if(n){var o=n.documentElement;if(o){o.style.overflow=d;}}if(n&&n.body){l=n.body.offsetHeight;k._uiSetHeight(l);}else{if(!n){k._clearInterval();}}},_setInterval:function(l){var k=this;if(!k._intervalId){k._intervalId=c.setInterval(k._onResize,100,k);}},_uiSetHeight:function(l){var k=this;if(k._iframeHeight!=l){k._iframeHeight=l;k._iframe.setStyle(h,l);}},_uiSetMonitorHeight:function(l){var k=this;var m=k._iframe;if(l){k._setInterval();k._loadHandle=m.on("load",k._setInterval,k);m.addClass(a);}else{k._clearInterval();if(k._loadHandle){k._loadHandle.detach();}m.removeClass(a);}},_iframeHeight:0}});c.Plugin.ResizeIframe=ResizeIframe;},"@VERSION@",{requires:["aui-base","aui-task-manager","plugin"],skinnable:true});