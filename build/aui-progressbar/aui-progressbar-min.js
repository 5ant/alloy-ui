AUI.add("aui-progressbar",function(O){var I=O.Lang,s=I.isNumber,M=I.isString,P="",U=".",B=" ",Z="auto",n="boundingBox",Q="complete",W="contentBox",b="height",N="horizontal",p="label",j="lineHeight",q="max",S="min",d="offsetHeight",K="orientation",X="progress-bar",t="px",i="ratio",J="status",r="statusNode",u="step",m="text",c="textNode",k="value",R="vertical",D="width",h=function(A){return parseFloat(A)||0;},E=O.ClassNameManager.getClassName,Y=E(X,N),G=E(X,J),F=E(X,m),V=E(X,R),o='<div class="'+G+'"></div>',l='<div class="'+F+'"></div>',f=O.Widget.prototype,H=[p,K,k],e=f._BIND_UI_ATTRS,C=f._SYNC_UI_ATTRS,T=e.concat(H),g=C.concat(H);function a(){a.superclass.constructor.apply(this,arguments);}O.mix(a,{NAME:X,ATTRS:{height:{valueFn:function(){return this.get(n).get(d)||25;}},label:{value:P},max:{validator:s,value:100},min:{validator:s,value:0},orientation:{value:N,validator:function(A){return M(A)&&(A===N||A===R);}},ratio:{getter:"_getRatio",readOnly:true},step:{getter:"_getStep",readOnly:true},statusNode:{valueFn:function(){return O.Node.create(o);}},textNode:{valueFn:function(){return O.Node.create(l);}},value:{setter:h,validator:function(A){return s(h(A))&&((A>=this.get(S))&&(A<=this.get(q)));},value:0}},HTML_PARSER:{label:function(A){var L=A.one(U+F);if(L){return L.html();}},statusNode:U+G,textNode:U+F}});O.extend(a,O.Widget,{_BIND_UI_ATTRS:T,_SYNC_UI_ATTRS:g,renderUI:function(){var A=this;A._renderStatusNode();A._renderTextNode();},bindUI:function(){var A=this;A.after("valueChange",O.bind(A._afterValueChange,A));},_afterValueChange:function(L){var A=this;if(A.get(u)>=100){A.fire(Q);}},_getContentBoxSize:function(){var A=this;var L=A.get(W);return h(L.getStyle(this.get(K)===N?D:b));},_getPixelStep:function(){var A=this;return A._getContentBoxSize()*A.get(i);},_getRatio:function(){var A=this;var L=A.get(S);var v=(A.get(k)-L)/(A.get(q)-L);return Math.max(v,0);},_getStep:function(){return this.get(i)*100;},_renderStatusNode:function(){var A=this;A.get(W).append(A.get(r));},_renderTextNode:function(){var A=this;A.get(W).append(A.get(c));},_uiSetLabel:function(A){this.get(c).html(A);},_uiSetOrientation:function(w){var A=this;var v=A.get(n);var L=(w===N);v.toggleClass(Y,L);v.toggleClass(V,!L);A._uiSizeTextNode();},_uiSetValue:function(x){var A=this;var v=A.get(r);var L=A._getPixelStep();var w={};if(A.get(K)===N){w={height:"100%",top:Z,width:L+t};}else{w={height:L+t,top:h(A._getContentBoxSize()-L)+t,width:"100%"};}v.setStyles(w);},_uiSizeTextNode:function(){var A=this;var L=A.get(W);var v=A.get(c);v.setStyle(j,L.getStyle(b));}});O.ProgressBar=a;},"@VERSION@",{requires:["aui-base"],skinnable:true});