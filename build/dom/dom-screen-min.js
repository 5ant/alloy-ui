/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.2.0
build: nightly
*/
YUI.add("dom-screen",function(A){(function(D){var O="documentElement",R="compatMode",M="position",B="fixed",K="relative",E="left",F="top",I="BackCompat",Q="medium",C="borderLeftWidth",N="borderTopWidth",P="getBoundingClientRect",H="getComputedStyle",J=D.DOM,L=/^t(?:able|d|h)$/i,G;if(D.UA.ie){if(D.config.doc[R]!=="quirks"){G=O;}else{G="body";}}D.mix(J,{winHeight:function(T){var S=J._getWinSize(T).height;return S;},winWidth:function(T){var S=J._getWinSize(T).width;return S;},docHeight:function(T){var S=J._getDocSize(T).height;return Math.max(S,J._getWinSize(T).height);},docWidth:function(T){var S=J._getDocSize(T).width;return Math.max(S,J._getWinSize(T).width);},docScrollX:function(U,V){V=V||(U)?J._getDoc(U):D.config.doc;var T=V.defaultView,S=(T)?T.pageXOffset:0;return Math.max(V[O].scrollLeft,V.body.scrollLeft,S);},docScrollY:function(U,V){V=V||(U)?J._getDoc(U):D.config.doc;var T=V.defaultView,S=(T)?T.pageYOffset:0;return Math.max(V[O].scrollTop,V.body.scrollTop,S);},getXY:function(){if(D.config.doc[O][P]){return function(V){var d=null,W,T,X,b,a,S,U,Z,c,Y;if(V&&V.tagName){c=V.ownerDocument;Y=c[O];if(Y.contains){inDoc=Y.contains(V);}else{inDoc=D.DOM.contains(Y,V);}if(inDoc){W=(G)?c[G].scrollLeft:J.docScrollX(V,c);T=(G)?c[G].scrollTop:J.docScrollY(V,c);X=V[P]();d=[X.left,X.top];if(D.UA.ie){b=2;a=2;Z=c[R];S=J[H](c[O],C);U=J[H](c[O],N);if(D.UA.ie===6){if(Z!==I){b=0;a=0;}}if((Z==I)){if(S!==Q){b=parseInt(S,10);}if(U!==Q){a=parseInt(U,10);}}d[0]-=b;d[1]-=a;}if((T||W)){if(!D.UA.ios){d[0]+=W;d[1]+=T;}}}else{d=J._getOffset(V);}}return d;};}else{return function(S){var X=null,W,T,V,U,Y;if(S){if(J.inDoc(S)){X=[S.offsetLeft,S.offsetTop];W=S.ownerDocument;T=S;V=((D.UA.gecko||D.UA.webkit>519)?true:false);while((T=T.offsetParent)){X[0]+=T.offsetLeft;X[1]+=T.offsetTop;if(V){X=J._calcBorders(T,X);}}if(J.getStyle(S,M)!=B){T=S;while((T=T.parentNode)){U=T.scrollTop;Y=T.scrollLeft;if(D.UA.gecko&&(J.getStyle(T,"overflow")!=="visible")){X=J._calcBorders(T,X);}if(U||Y){X[0]-=Y;X[1]-=U;}}X[0]+=J.docScrollX(S,W);X[1]+=J.docScrollY(S,W);}else{X[0]+=J.docScrollX(S,W);X[1]+=J.docScrollY(S,W);}}else{X=J._getOffset(S);}}return X;};}}(),getX:function(S){return J.getXY(S)[0];},getY:function(S){return J.getXY(S)[1];},setXY:function(T,W,Z){var U=J.setStyle,Y,X,S,V;if(T&&W){Y=J.getStyle(T,M);X=J._getOffset(T);if(Y=="static"){Y=K;U(T,M,Y);}V=J.getXY(T);if(W[0]!==null){U(T,E,W[0]-V[0]+X[0]+"px");}if(W[1]!==null){U(T,F,W[1]-V[1]+X[1]+"px");}if(!Z){S=J.getXY(T);if(S[0]!==W[0]||S[1]!==W[1]){J.setXY(T,W,true);}}}else{}},setX:function(T,S){return J.setXY(T,[S,null]);},setY:function(S,T){return J.setXY(S,[null,T]);},swapXY:function(T,S){var U=J.getXY(T);J.setXY(T,J.getXY(S));J.setXY(S,U);},_calcBorders:function(U,V){var T=parseInt(J[H](U,N),10)||0,S=parseInt(J[H](U,C),10)||0;if(D.UA.gecko){if(L.test(U.tagName)){T=0;S=0;}}V[0]+=S;V[1]+=T;return V;},_getWinSize:function(V,X){X=X||(V)?J._getDoc(V):D.config.doc;var W=X.defaultView||X.parentWindow,Y=X[R],U=W.innerHeight,T=W.innerWidth,S=X[O];if(Y&&!D.UA.opera){if(Y!="CSS1Compat"){S=X.body;}U=S.clientHeight;T=S.clientWidth;}return{height:U,width:T};},_getDocSize:function(T){var U=(T)?J._getDoc(T):D.config.doc,S=U[O];if(U[R]!="CSS1Compat"){S=U.body;}return{height:S.scrollHeight,width:S.scrollWidth};}});})(A);(function(G){var E="top",D="right",H="bottom",C="left",B=function(L,K){var N=Math.max(L[E],K[E]),O=Math.min(L[D],K[D]),I=Math.min(L[H],K[H]),J=Math.max(L[C],K[C]),M={};M[E]=N;M[D]=O;M[H]=I;M[C]=J;return M;},F=G.DOM;G.mix(F,{region:function(J){var K=F.getXY(J),I=false;if(J&&K){I=F._getRegion(K[1],K[0]+J.offsetWidth,K[1]+J.offsetHeight,K[0]);}return I;},intersect:function(K,I,O){var J=O||F.region(K),N={},M=I,L;if(M.tagName){N=F.region(M);}else{if(G.Lang.isObject(I)){N=I;}else{return false;}}L=B(N,J);return{top:L[E],right:L[D],bottom:L[H],left:L[C],area:((L[H]-L[E])*(L[D]-L[C])),yoff:((L[H]-L[E])),xoff:(L[D]-L[C]),inRegion:F.inRegion(K,I,false,O)};},inRegion:function(L,I,J,P){var O={},K=P||F.region(L),N=I,M;if(N.tagName){O=F.region(N);}else{if(G.Lang.isObject(I)){O=I;}else{return false;}}if(J){return(K[C]>=O[C]&&K[D]<=O[D]&&K[E]>=O[E]&&K[H]<=O[H]);}else{M=B(O,K);if(M[H]>=M[E]&&M[D]>=M[C]){return true;}else{return false;}}},inViewportRegion:function(J,I,K){return F.inRegion(J,F.viewportRegion(J),I,K);},_getRegion:function(K,L,I,J){var M={};M[E]=M[1]=K;M[C]=M[0]=J;M[H]=I;M[D]=L;M.width=M[D]-M[C];M.height=M[H]-M[E];return M;},viewportRegion:function(J){J=J||G.config.doc.documentElement;var I=false,L,K;if(J){L=F.docScrollX(J);K=F.docScrollY(J);I=F._getRegion(K,F.winWidth(J)+L,K+F.winHeight(J),L);}return I;}});})(A);},"3.2.0",{requires:["dom-base","dom-style","event-base"]});