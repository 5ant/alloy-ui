AUI.add("aui-panel",function(T){var H=T.Lang,Q=H.isArray,N=H.isBoolean,Z="boundingBox",E="collapse",L="collapsed",R="collapsible",F="icon",V="minus",B="panel",D="plus",S="title",M="tools",X="visible",J=T.ClassNameManager.getClassName,K=J("helper","clearfix"),G=J(B,L),P=J(B),Y=J(B,"hd","text"),C=J(B,"toolset"),I={body:"bd",footer:"ft",header:"hd"},U=document.createTextNode(""),O='<span class="'+Y+'"></span>';var W=function(){};W.ATTRS={collapsed:{value:false,validator:N},collapsible:{value:false,validator:N},title:{value:"",validator:function(A){return H.isString(A)||N(A);}},tools:{value:[],validator:Q}};W.prototype={initializer:function(a){var A=this;if(!a.bodyContent){A.set("bodyContent",U);}if(!a.headerContent){A.set("headerContent",U);}A.after("collapsedChange",A._afterCollapsedChange);A.after("render",A._afterPanelRender);A.after("titleChange",A._afterTitleChange);},collapse:function(){var A=this;A.set(L,true);},expand:function(){var A=this;A.set(L,false);},toggle:function(){var A=this;A.set(X,!A.get(X));},toggleCollapse:function(){var A=this;if(A.get(L)){A.expand();}else{A.collapse();}},_addPanelClass:function(f){var A=this;var e=A[f+"Node"];if(e){var c=I[f];var d=J(B,c);var b=A.name;var a=J(b,c);e.addClass(d);e.addClass(a);}},_renderToolItems:function(){var A=this;var b=A.get(M);if(A.get(R)){var a=A.get(L)?D:V;b.unshift({icon:a,id:E,handler:{fn:A.toggleCollapse,context:A}});}A.toolset=new T.ToolSet({tools:b}).render(A.headerNode);A.toolset.get(Z).addClass(C);},_renderHeaderText:function(){var A=this;var a=A.headerNode;var b=T.Node.create(O);var c=a.html();a.empty();b.addClass(Y);a.prepend(b);A.headerTextNode=b;if(!A.get(S)){A.set(S,c);}A._syncTitleUI();},_syncCollapsedUI:function(){var A=this;if(A.get(R)){var c=A.bodyNode;var a=A.get(Z);var d=A.get(L);if(A.toolset){var e=A.toolset;var b=e.tools.item(E);if(b){b.set(F,d?D:V);}}if(d){c.hide();a.addClass(G);}else{c.show();a.removeClass(G);}}},_syncTitleUI:function(){var A=this;var a=A.get(S);A.headerTextNode.html(a);},_afterCollapsedChange:function(a){var A=this;A._syncCollapsedUI();},_afterPanelRender:function(a){var A=this;A.headerNode.addClass(K);A._addPanelClass("body");A._addPanelClass("footer");A._addPanelClass("header");A._renderHeaderText();A._renderToolItems();A._syncCollapsedUI();},_afterTitleChange:function(a){var A=this;A._syncTitleUI();}};T.Panel=T.Base.build(B,T.Component,[W,T.WidgetStdMod]);},"@VERSION@",{requires:["aui-component","widget-stdmod","aui-tool-set"],skinnable:true});