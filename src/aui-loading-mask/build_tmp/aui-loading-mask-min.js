AUI.add("aui-loading-mask",function(C){var G=C.Lang,E=C.ClassNameManager.getClassName,M="loadingmask",F=E(M),I=E(M,"masked"),L=E(M,"masked","relative"),D=E(M,"message"),B=E(M,"message","content"),J='<div class="'+D+'"><div class="'+B+'">{0}</div></div>';var K=function(N){var A=this;var P=N.host;var O=P;var Q;if(C.Widget&&P instanceof C.Widget){O=P.get("contentBox");}N.target=O;N.cssClass=N.cssClass||F;A._mask=new C.OverlayMask(N).render(O);K.superclass.constructor.apply(this,arguments);};K.NAME=M;K.NS=M;K.ATTRS={strings:{value:{loading:"Loading&hellip;"}}};var H=K.ATTRS;C.each(C.OverlayMask.ATTRS,function(O,N,P){var A=H[N];if(!A){A=H[N]=C.mix({getter:"_getHostAttribute",setter:"_setHostAttribute"},O);}});C.extend(K,C.Plugin.Base,{initializer:function(){var N=this;var A=C.substitute(J,[N.get("strings.loading")]);N._message=C.Node.create(A);N._mask.get("boundingBox").appendChild(N._message);N._mask.after("visibleChange",N._afterVisibleChange,N);},_afterVisibleChange:function(N){var A=this;var O=A.get("target");O.toggleClass(I,(N.newVal));O.toggleClass(L,(N.newVal&&(O.getStyle("position")=="static")));if(N.newVal){A.refreshMask();}},_getHostAttribute:function(O,N){var A=this;return A._mask.get(N);},_setHostAttribute:function(O,N){var A=this;return A._mask.set(N,O);},centerMessage:function(){var A=this;A._message.center(A._mask.get("contentBox"));},hide:function(){var A=this;A._mask.hide();},show:function(){var A=this;A._mask.show();},toggle:function(){var A=this;A._mask.toggle();},refreshMask:function(){var A=this;A._mask.refreshMask();A.centerMessage();}});C.LoadingMask=K;},"@VERSION@",{requires:["aui-overlay-mask","plugin","substitute"],skinnable:true});